{"id":"4127f0e4cd3490c9d6d87f6693e38e31","_format":"hh-sol-build-info-1","solcVersion":"0.7.6","solcLongVersion":"0.7.6+commit.7338295f","input":{"language":"Solidity","sources":{"@uniswap/v3-core/contracts/libraries/Oracle.sol":{"content":"// SPDX-License-Identifier: GPL-3.0-or-later\npragma solidity >=0.5.0;\n\n/// @title Oracle\n/// @notice Provides price and liquidity data useful for a wide variety of system designs\n/// @dev Instances of stored oracle data, \"observations\", are collected in the oracle array\n/// Every pool is initialized with an oracle array length of 1. Anyone can pay the SSTOREs to increase the\n/// maximum length of the oracle array. New slots will be added when the array is fully populated.\n/// Observations are overwritten when the full length of the oracle array is populated.\n/// The most recent observation is available, independent of the length of the oracle array, by passing 0 to observe()\nlibrary Oracle {\n    struct Observation {\n        // the block timestamp of the observation\n        uint32 blockTimestamp;\n        // the tick accumulator, i.e. tick * time elapsed since the pool was first initialized\n        int56 tickCumulative;\n        // the seconds per liquidity, i.e. seconds elapsed / max(1, liquidity) since the pool was first initialized\n        uint160 secondsPerLiquidityCumulativeX128;\n        // whether or not the observation is initialized\n        bool initialized;\n    }\n\n    /// @notice Transforms a previous observation into a new observation, given the passage of time and the current tick and liquidity values\n    /// @dev blockTimestamp _must_ be chronologically equal to or greater than last.blockTimestamp, safe for 0 or 1 overflows\n    /// @param last The specified observation to be transformed\n    /// @param blockTimestamp The timestamp of the new observation\n    /// @param tick The active tick at the time of the new observation\n    /// @param liquidity The total in-range liquidity at the time of the new observation\n    /// @return Observation The newly populated observation\n    function transform(\n        Observation memory last,\n        uint32 blockTimestamp,\n        int24 tick,\n        uint128 liquidity\n    ) private pure returns (Observation memory) {\n        uint32 delta = blockTimestamp - last.blockTimestamp;\n        return\n            Observation({\n                blockTimestamp: blockTimestamp,\n                tickCumulative: last.tickCumulative + int56(tick) * delta,\n                secondsPerLiquidityCumulativeX128: last.secondsPerLiquidityCumulativeX128 +\n                    ((uint160(delta) << 128) / (liquidity > 0 ? liquidity : 1)),\n                initialized: true\n            });\n    }\n\n    /// @notice Initialize the oracle array by writing the first slot. Called once for the lifecycle of the observations array\n    /// @param self The stored oracle array\n    /// @param time The time of the oracle initialization, via block.timestamp truncated to uint32\n    /// @return cardinality The number of populated elements in the oracle array\n    /// @return cardinalityNext The new length of the oracle array, independent of population\n    function initialize(Observation[65535] storage self, uint32 time)\n        internal\n        returns (uint16 cardinality, uint16 cardinalityNext)\n    {\n        self[0] = Observation({\n            blockTimestamp: time,\n            tickCumulative: 0,\n            secondsPerLiquidityCumulativeX128: 0,\n            initialized: true\n        });\n        return (1, 1);\n    }\n\n    /// @notice Writes an oracle observation to the array\n    /// @dev Writable at most once per block. Index represents the most recently written element. cardinality and index must be tracked externally.\n    /// If the index is at the end of the allowable array length (according to cardinality), and the next cardinality\n    /// is greater than the current one, cardinality may be increased. This restriction is created to preserve ordering.\n    /// @param self The stored oracle array\n    /// @param index The index of the observation that was most recently written to the observations array\n    /// @param blockTimestamp The timestamp of the new observation\n    /// @param tick The active tick at the time of the new observation\n    /// @param liquidity The total in-range liquidity at the time of the new observation\n    /// @param cardinality The number of populated elements in the oracle array\n    /// @param cardinalityNext The new length of the oracle array, independent of population\n    /// @return indexUpdated The new index of the most recently written element in the oracle array\n    /// @return cardinalityUpdated The new cardinality of the oracle array\n    function write(\n        Observation[65535] storage self,\n        uint16 index,\n        uint32 blockTimestamp,\n        int24 tick,\n        uint128 liquidity,\n        uint16 cardinality,\n        uint16 cardinalityNext\n    ) internal returns (uint16 indexUpdated, uint16 cardinalityUpdated) {\n        Observation memory last = self[index];\n\n        // early return if we've already written an observation this block\n        if (last.blockTimestamp == blockTimestamp) return (index, cardinality);\n\n        // if the conditions are right, we can bump the cardinality\n        if (cardinalityNext > cardinality && index == (cardinality - 1)) {\n            cardinalityUpdated = cardinalityNext;\n        } else {\n            cardinalityUpdated = cardinality;\n        }\n\n        indexUpdated = (index + 1) % cardinalityUpdated;\n        self[indexUpdated] = transform(last, blockTimestamp, tick, liquidity);\n    }\n\n    /// @notice Prepares the oracle array to store up to `next` observations\n    /// @param self The stored oracle array\n    /// @param current The current next cardinality of the oracle array\n    /// @param next The proposed next cardinality which will be populated in the oracle array\n    /// @return next The next cardinality which will be populated in the oracle array\n    function grow(\n        Observation[65535] storage self,\n        uint16 current,\n        uint16 next\n    ) internal returns (uint16) {\n        require(current > 0, 'I');\n        // no-op if the passed next value isn't greater than the current next value\n        if (next <= current) return current;\n        // store in each slot to prevent fresh SSTOREs in swaps\n        // this data will not be used because the initialized boolean is still false\n        for (uint16 i = current; i < next; i++) self[i].blockTimestamp = 1;\n        return next;\n    }\n\n    /// @notice comparator for 32-bit timestamps\n    /// @dev safe for 0 or 1 overflows, a and b _must_ be chronologically before or equal to time\n    /// @param time A timestamp truncated to 32 bits\n    /// @param a A comparison timestamp from which to determine the relative position of `time`\n    /// @param b From which to determine the relative position of `time`\n    /// @return bool Whether `a` is chronologically <= `b`\n    function lte(\n        uint32 time,\n        uint32 a,\n        uint32 b\n    ) private pure returns (bool) {\n        // if there hasn't been overflow, no need to adjust\n        if (a <= time && b <= time) return a <= b;\n\n        uint256 aAdjusted = a > time ? a : a + 2**32;\n        uint256 bAdjusted = b > time ? b : b + 2**32;\n\n        return aAdjusted <= bAdjusted;\n    }\n\n    /// @notice Fetches the observations beforeOrAt and atOrAfter a target, i.e. where [beforeOrAt, atOrAfter] is satisfied.\n    /// The result may be the same observation, or adjacent observations.\n    /// @dev The answer must be contained in the array, used when the target is located within the stored observation\n    /// boundaries: older than the most recent observation and younger, or the same age as, the oldest observation\n    /// @param self The stored oracle array\n    /// @param time The current block.timestamp\n    /// @param target The timestamp at which the reserved observation should be for\n    /// @param index The index of the observation that was most recently written to the observations array\n    /// @param cardinality The number of populated elements in the oracle array\n    /// @return beforeOrAt The observation recorded before, or at, the target\n    /// @return atOrAfter The observation recorded at, or after, the target\n    function binarySearch(\n        Observation[65535] storage self,\n        uint32 time,\n        uint32 target,\n        uint16 index,\n        uint16 cardinality\n    ) private view returns (Observation memory beforeOrAt, Observation memory atOrAfter) {\n        uint256 l = (index + 1) % cardinality; // oldest observation\n        uint256 r = l + cardinality - 1; // newest observation\n        uint256 i;\n        while (true) {\n            i = (l + r) / 2;\n\n            beforeOrAt = self[i % cardinality];\n\n            // we've landed on an uninitialized tick, keep searching higher (more recently)\n            if (!beforeOrAt.initialized) {\n                l = i + 1;\n                continue;\n            }\n\n            atOrAfter = self[(i + 1) % cardinality];\n\n            bool targetAtOrAfter = lte(time, beforeOrAt.blockTimestamp, target);\n\n            // check if we've found the answer!\n            if (targetAtOrAfter && lte(time, target, atOrAfter.blockTimestamp)) break;\n\n            if (!targetAtOrAfter) r = i - 1;\n            else l = i + 1;\n        }\n    }\n\n    /// @notice Fetches the observations beforeOrAt and atOrAfter a given target, i.e. where [beforeOrAt, atOrAfter] is satisfied\n    /// @dev Assumes there is at least 1 initialized observation.\n    /// Used by observeSingle() to compute the counterfactual accumulator values as of a given block timestamp.\n    /// @param self The stored oracle array\n    /// @param time The current block.timestamp\n    /// @param target The timestamp at which the reserved observation should be for\n    /// @param tick The active tick at the time of the returned or simulated observation\n    /// @param index The index of the observation that was most recently written to the observations array\n    /// @param liquidity The total pool liquidity at the time of the call\n    /// @param cardinality The number of populated elements in the oracle array\n    /// @return beforeOrAt The observation which occurred at, or before, the given timestamp\n    /// @return atOrAfter The observation which occurred at, or after, the given timestamp\n    function getSurroundingObservations(\n        Observation[65535] storage self,\n        uint32 time,\n        uint32 target,\n        int24 tick,\n        uint16 index,\n        uint128 liquidity,\n        uint16 cardinality\n    ) private view returns (Observation memory beforeOrAt, Observation memory atOrAfter) {\n        // optimistically set before to the newest observation\n        beforeOrAt = self[index];\n\n        // if the target is chronologically at or after the newest observation, we can early return\n        if (lte(time, beforeOrAt.blockTimestamp, target)) {\n            if (beforeOrAt.blockTimestamp == target) {\n                // if newest observation equals target, we're in the same block, so we can ignore atOrAfter\n                return (beforeOrAt, atOrAfter);\n            } else {\n                // otherwise, we need to transform\n                return (beforeOrAt, transform(beforeOrAt, target, tick, liquidity));\n            }\n        }\n\n        // now, set before to the oldest observation\n        beforeOrAt = self[(index + 1) % cardinality];\n        if (!beforeOrAt.initialized) beforeOrAt = self[0];\n\n        // ensure that the target is chronologically at or after the oldest observation\n        require(lte(time, beforeOrAt.blockTimestamp, target), 'OLD');\n\n        // if we've reached this point, we have to binary search\n        return binarySearch(self, time, target, index, cardinality);\n    }\n\n    /// @dev Reverts if an observation at or before the desired observation timestamp does not exist.\n    /// 0 may be passed as `secondsAgo' to return the current cumulative values.\n    /// If called with a timestamp falling between two observations, returns the counterfactual accumulator values\n    /// at exactly the timestamp between the two observations.\n    /// @param self The stored oracle array\n    /// @param time The current block timestamp\n    /// @param secondsAgo The amount of time to look back, in seconds, at which point to return an observation\n    /// @param tick The current tick\n    /// @param index The index of the observation that was most recently written to the observations array\n    /// @param liquidity The current in-range pool liquidity\n    /// @param cardinality The number of populated elements in the oracle array\n    /// @return tickCumulative The tick * time elapsed since the pool was first initialized, as of `secondsAgo`\n    /// @return secondsPerLiquidityCumulativeX128 The time elapsed / max(1, liquidity) since the pool was first initialized, as of `secondsAgo`\n    function observeSingle(\n        Observation[65535] storage self,\n        uint32 time,\n        uint32 secondsAgo,\n        int24 tick,\n        uint16 index,\n        uint128 liquidity,\n        uint16 cardinality\n    ) internal view returns (int56 tickCumulative, uint160 secondsPerLiquidityCumulativeX128) {\n        if (secondsAgo == 0) {\n            Observation memory last = self[index];\n            if (last.blockTimestamp != time) last = transform(last, time, tick, liquidity);\n            return (last.tickCumulative, last.secondsPerLiquidityCumulativeX128);\n        }\n\n        uint32 target = time - secondsAgo;\n\n        (Observation memory beforeOrAt, Observation memory atOrAfter) =\n            getSurroundingObservations(self, time, target, tick, index, liquidity, cardinality);\n\n        if (target == beforeOrAt.blockTimestamp) {\n            // we're at the left boundary\n            return (beforeOrAt.tickCumulative, beforeOrAt.secondsPerLiquidityCumulativeX128);\n        } else if (target == atOrAfter.blockTimestamp) {\n            // we're at the right boundary\n            return (atOrAfter.tickCumulative, atOrAfter.secondsPerLiquidityCumulativeX128);\n        } else {\n            // we're in the middle\n            uint32 observationTimeDelta = atOrAfter.blockTimestamp - beforeOrAt.blockTimestamp;\n            uint32 targetDelta = target - beforeOrAt.blockTimestamp;\n            return (\n                beforeOrAt.tickCumulative +\n                    ((atOrAfter.tickCumulative - beforeOrAt.tickCumulative) / observationTimeDelta) *\n                    targetDelta,\n                beforeOrAt.secondsPerLiquidityCumulativeX128 +\n                    uint160(\n                        (uint256(\n                            atOrAfter.secondsPerLiquidityCumulativeX128 - beforeOrAt.secondsPerLiquidityCumulativeX128\n                        ) * targetDelta) / observationTimeDelta\n                    )\n            );\n        }\n    }\n\n    /// @notice Returns the accumulator values as of each time seconds ago from the given time in the array of `secondsAgos`\n    /// @dev Reverts if `secondsAgos` > oldest observation\n    /// @param self The stored oracle array\n    /// @param time The current block.timestamp\n    /// @param secondsAgos Each amount of time to look back, in seconds, at which point to return an observation\n    /// @param tick The current tick\n    /// @param index The index of the observation that was most recently written to the observations array\n    /// @param liquidity The current in-range pool liquidity\n    /// @param cardinality The number of populated elements in the oracle array\n    /// @return tickCumulatives The tick * time elapsed since the pool was first initialized, as of each `secondsAgo`\n    /// @return secondsPerLiquidityCumulativeX128s The cumulative seconds / max(1, liquidity) since the pool was first initialized, as of each `secondsAgo`\n    function observe(\n        Observation[65535] storage self,\n        uint32 time,\n        uint32[] memory secondsAgos,\n        int24 tick,\n        uint16 index,\n        uint128 liquidity,\n        uint16 cardinality\n    ) internal view returns (int56[] memory tickCumulatives, uint160[] memory secondsPerLiquidityCumulativeX128s) {\n        require(cardinality > 0, 'I');\n\n        tickCumulatives = new int56[](secondsAgos.length);\n        secondsPerLiquidityCumulativeX128s = new uint160[](secondsAgos.length);\n        for (uint256 i = 0; i < secondsAgos.length; i++) {\n            (tickCumulatives[i], secondsPerLiquidityCumulativeX128s[i]) = observeSingle(\n                self,\n                time,\n                secondsAgos[i],\n                tick,\n                index,\n                liquidity,\n                cardinality\n            );\n        }\n    }\n}\n"},"contracts/test/MockObservations.sol":{"content":"// SPDX-License-Identifier: UNLICENSED\npragma solidity =0.7.6;\n\nimport '@uniswap/v3-core/contracts/libraries/Oracle.sol';\n\ncontract MockObservations {\n    Oracle.Observation[4] internal oracleObservations;\n\n    int24 slot0Tick;\n    uint16 internal slot0ObservationCardinality;\n    uint16 internal slot0ObservationIndex;\n    uint128 public liquidity;\n\n    bool internal lastObservationCurrentTimestamp;\n\n    constructor(\n        uint32[4] memory _blockTimestamps,\n        int56[4] memory _tickCumulatives,\n        uint128[4] memory _secondsPerLiquidityCumulativeX128s,\n        bool[4] memory _initializeds,\n        int24 _tick,\n        uint16 _observationCardinality,\n        uint16 _observationIndex,\n        bool _lastObservationCurrentTimestamp,\n        uint128 _liquidity\n    ) {\n        for (uint256 i = 0; i < _blockTimestamps.length; i++) {\n            oracleObservations[i] = Oracle.Observation({\n                blockTimestamp: _blockTimestamps[i],\n                tickCumulative: _tickCumulatives[i],\n                secondsPerLiquidityCumulativeX128: _secondsPerLiquidityCumulativeX128s[i],\n                initialized: _initializeds[i]\n            });\n        }\n\n        slot0Tick = _tick;\n        slot0ObservationCardinality = _observationCardinality;\n        slot0ObservationIndex = _observationIndex;\n        lastObservationCurrentTimestamp = _lastObservationCurrentTimestamp;\n        liquidity = _liquidity;\n    }\n\n    function slot0()\n        external\n        view\n        returns (\n            uint160,\n            int24,\n            uint16,\n            uint16,\n            uint16,\n            uint8,\n            bool\n        )\n    {\n        return (0, slot0Tick, slot0ObservationIndex, slot0ObservationCardinality, 0, 0, false);\n    }\n\n    function observations(uint256 index)\n        external\n        view\n        returns (\n            uint32,\n            int56,\n            uint160,\n            bool\n        )\n    {\n        Oracle.Observation memory observation = oracleObservations[index];\n        if (lastObservationCurrentTimestamp) {\n            observation.blockTimestamp =\n                uint32(block.timestamp) -\n                (oracleObservations[slot0ObservationIndex].blockTimestamp - observation.blockTimestamp);\n        }\n        return (\n            observation.blockTimestamp,\n            observation.tickCumulative,\n            observation.secondsPerLiquidityCumulativeX128,\n            observation.initialized\n        );\n    }\n}\n"}},"settings":{"optimizer":{"enabled":true,"mode":"3"},"outputSelection":{"*":{"*":["abi","evm.methodIdentifiers","metadata"],"":["ast"]}},"metadata":{"bytecodeHash":"none"}}},"output":{"errors":[{"component":"general","errorCode":null,"formattedMessage":"\n┌──────────────────────────────────────────────────────────────────────────────────────────────────┐\n│ Warning: You are using 'block.timestamp' in your code, which might lead to unexpected behaviour. │\n│ 'block.timestamp' actually refers to the timestamp of the whole batch that will be sent to L1.   │\n│ We are planning to change this in the near future so that it returns the timestamp of the L2     │\n│ block. A separate method will be introduced for accessing the timestamp of the L1 batch.         │\n│ More information here:                                                                           │\n│ https://github.com/zkSync-Community-Hub/zkync-developers/discussions/32                          │\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘\n--> contracts/test/MockObservations.sol\n","message":"\n┌──────────────────────────────────────────────────────────────────────────────────────────────────┐\n│ Warning: You are using 'block.timestamp' in your code, which might lead to unexpected behaviour. │\n│ 'block.timestamp' actually refers to the timestamp of the whole batch that will be sent to L1.   │\n│ We are planning to change this in the near future so that it returns the timestamp of the L2     │\n│ block. A separate method will be introduced for accessing the timestamp of the L1 batch.         │\n│ More information here:                                                                           │\n│ https://github.com/zkSync-Community-Hub/zkync-developers/discussions/32                          │\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘","severity":"warning","sourceLocation":{"file":"1","start":2122,"end":2137},"type":"Warning"}],"version":"0.7.6","long_version":"0.7.6+commit.7338295f.Darwin.appleclang","zk_version":"1.3.13","sources":{"@uniswap/v3-core/contracts/libraries/Oracle.sol":{"id":0,"ast":{"absolutePath":"@uniswap/v3-core/contracts/libraries/Oracle.sol","exportedSymbols":{"Oracle":[734]},"id":735,"license":"GPL-3.0-or-later","nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity",">=","0.5",".0"],"nodeType":"PragmaDirective","src":"45:24:0"},{"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"library","documentation":{"id":2,"nodeType":"StructuredDocumentation","src":"71:613:0","text":"@title Oracle\n @notice Provides price and liquidity data useful for a wide variety of system designs\n @dev Instances of stored oracle data, \"observations\", are collected in the oracle array\n Every pool is initialized with an oracle array length of 1. Anyone can pay the SSTOREs to increase the\n maximum length of the oracle array. New slots will be added when the array is fully populated.\n Observations are overwritten when the full length of the oracle array is populated.\n The most recent observation is available, independent of the length of the oracle array, by passing 0 to observe()"},"fullyImplemented":true,"id":734,"linearizedBaseContracts":[734],"name":"Oracle","nodeType":"ContractDefinition","nodes":[{"canonicalName":"Oracle.Observation","id":11,"members":[{"constant":false,"id":4,"mutability":"mutable","name":"blockTimestamp","nodeType":"VariableDeclaration","scope":11,"src":"784:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":3,"name":"uint32","nodeType":"ElementaryTypeName","src":"784:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":6,"mutability":"mutable","name":"tickCumulative","nodeType":"VariableDeclaration","scope":11,"src":"910:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"},"typeName":{"id":5,"name":"int56","nodeType":"ElementaryTypeName","src":"910:5:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"visibility":"internal"},{"constant":false,"id":8,"mutability":"mutable","name":"secondsPerLiquidityCumulativeX128","nodeType":"VariableDeclaration","scope":11,"src":"1056:41:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":7,"name":"uint160","nodeType":"ElementaryTypeName","src":"1056:7:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":10,"mutability":"mutable","name":"initialized","nodeType":"VariableDeclaration","scope":11,"src":"1164:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":9,"name":"bool","nodeType":"ElementaryTypeName","src":"1164:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"name":"Observation","nodeType":"StructDefinition","scope":734,"src":"705:482:0","visibility":"public"},{"body":{"id":65,"nodeType":"Block","src":"1990:455:0","statements":[{"assignments":[26],"declarations":[{"constant":false,"id":26,"mutability":"mutable","name":"delta","nodeType":"VariableDeclaration","scope":65,"src":"2000:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":25,"name":"uint32","nodeType":"ElementaryTypeName","src":"2000:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":31,"initialValue":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":30,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":27,"name":"blockTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"2015:14:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":28,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"2032:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":29,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"2032:19:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"2015:36:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"2000:51:0"},{"expression":{"arguments":[{"id":33,"name":"blockTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16,"src":"2126:14:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":42,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":34,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"2174:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":35,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"2174:19:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":41,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":38,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18,"src":"2202:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int24","typeString":"int24"}],"id":37,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2196:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_int56_$","typeString":"type(int56)"},"typeName":{"id":36,"name":"int56","nodeType":"ElementaryTypeName","src":"2196:5:0","typeDescriptions":{}}},"id":39,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2196:11:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":40,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"2210:5:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"2196:19:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"src":"2174:41:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":61,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":43,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":14,"src":"2268:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":44,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"2268:38:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":59,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":50,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":47,"name":"delta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":26,"src":"2339:5:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":46,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2331:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":45,"name":"uint160","nodeType":"ElementaryTypeName","src":"2331:7:0","typeDescriptions":{}}},"id":48,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2331:14:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313238","id":49,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2349:3:0","typeDescriptions":{"typeIdentifier":"t_rational_128_by_1","typeString":"int_const 128"},"value":"128"},"src":"2331:21:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":51,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2330:23:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":54,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"2357:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2369:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2357:13:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"hexValue":"31","id":56,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2385:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"id":57,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2357:29:0","trueExpression":{"id":55,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"2373:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"id":58,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2356:31:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"2330:57:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":60,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2329:59:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2268:120:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"hexValue":"74727565","id":62,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"2419:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int56","typeString":"int56"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":32,"name":"Observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11,"src":"2080:11:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Observation_$11_storage_ptr_$","typeString":"type(struct Oracle.Observation storage pointer)"}},"id":63,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["blockTimestamp","tickCumulative","secondsPerLiquidityCumulativeX128","initialized"],"nodeType":"FunctionCall","src":"2080:358:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"functionReturnParameters":24,"id":64,"nodeType":"Return","src":"2061:377:0"}]},"documentation":{"id":12,"nodeType":"StructuredDocumentation","src":"1193:614:0","text":"@notice Transforms a previous observation into a new observation, given the passage of time and the current tick and liquidity values\n @dev blockTimestamp _must_ be chronologically equal to or greater than last.blockTimestamp, safe for 0 or 1 overflows\n @param last The specified observation to be transformed\n @param blockTimestamp The timestamp of the new observation\n @param tick The active tick at the time of the new observation\n @param liquidity The total in-range liquidity at the time of the new observation\n @return Observation The newly populated observation"},"id":66,"implemented":true,"kind":"function","modifiers":[],"name":"transform","nodeType":"FunctionDefinition","parameters":{"id":21,"nodeType":"ParameterList","parameters":[{"constant":false,"id":14,"mutability":"mutable","name":"last","nodeType":"VariableDeclaration","scope":66,"src":"1840:23:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":13,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"1840:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"},{"constant":false,"id":16,"mutability":"mutable","name":"blockTimestamp","nodeType":"VariableDeclaration","scope":66,"src":"1873:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":15,"name":"uint32","nodeType":"ElementaryTypeName","src":"1873:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":18,"mutability":"mutable","name":"tick","nodeType":"VariableDeclaration","scope":66,"src":"1904:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":17,"name":"int24","nodeType":"ElementaryTypeName","src":"1904:5:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":20,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":66,"src":"1924:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":19,"name":"uint128","nodeType":"ElementaryTypeName","src":"1924:7:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"1830:117:0"},"returnParameters":{"id":24,"nodeType":"ParameterList","parameters":[{"constant":false,"id":23,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":66,"src":"1970:18:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":22,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"1970:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"src":"1969:20:0"},"scope":734,"src":"1812:633:0","stateMutability":"pure","virtual":false,"visibility":"private"},{"body":{"id":95,"nodeType":"Block","src":"3044:219:0","statements":[{"expression":{"id":89,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":80,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":71,"src":"3054:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":82,"indexExpression":{"hexValue":"30","id":81,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3059:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3054:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":84,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":73,"src":"3106:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"hexValue":"30","id":85,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3140:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":86,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3190:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"74727565","id":87,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"3218:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":83,"name":"Observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11,"src":"3064:11:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Observation_$11_storage_ptr_$","typeString":"type(struct Oracle.Observation storage pointer)"}},"id":88,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["blockTimestamp","tickCumulative","secondsPerLiquidityCumulativeX128","initialized"],"nodeType":"FunctionCall","src":"3064:169:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"src":"3054:179:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"id":90,"nodeType":"ExpressionStatement","src":"3054:179:0"},{"expression":{"components":[{"hexValue":"31","id":91,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3251:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"hexValue":"31","id":92,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3254:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"id":93,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"3250:6:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_1_by_1_$_t_rational_1_by_1_$","typeString":"tuple(int_const 1,int_const 1)"}},"functionReturnParameters":79,"id":94,"nodeType":"Return","src":"3243:13:0"}]},"documentation":{"id":67,"nodeType":"StructuredDocumentation","src":"2451:440:0","text":"@notice Initialize the oracle array by writing the first slot. Called once for the lifecycle of the observations array\n @param self The stored oracle array\n @param time The time of the oracle initialization, via block.timestamp truncated to uint32\n @return cardinality The number of populated elements in the oracle array\n @return cardinalityNext The new length of the oracle array, independent of population"},"id":96,"implemented":true,"kind":"function","modifiers":[],"name":"initialize","nodeType":"FunctionDefinition","parameters":{"id":74,"nodeType":"ParameterList","parameters":[{"constant":false,"id":71,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":96,"src":"2916:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":68,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"2916:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":70,"length":{"hexValue":"3635353335","id":69,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2928:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"2916:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":73,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":96,"src":"2949:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":72,"name":"uint32","nodeType":"ElementaryTypeName","src":"2949:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"2915:46:0"},"returnParameters":{"id":79,"nodeType":"ParameterList","parameters":[{"constant":false,"id":76,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":96,"src":"2996:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":75,"name":"uint16","nodeType":"ElementaryTypeName","src":"2996:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":78,"mutability":"mutable","name":"cardinalityNext","nodeType":"VariableDeclaration","scope":96,"src":"3016:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":77,"name":"uint16","nodeType":"ElementaryTypeName","src":"3016:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"2995:44:0"},"scope":734,"src":"2896:367:0","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":176,"nodeType":"Block","src":"4728:614:0","statements":[{"assignments":[121],"declarations":[{"constant":false,"id":121,"mutability":"mutable","name":"last","nodeType":"VariableDeclaration","scope":176,"src":"4738:23:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":120,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"4738:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"id":125,"initialValue":{"baseExpression":{"id":122,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"4764:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":124,"indexExpression":{"id":123,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"4769:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4764:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"VariableDeclarationStatement","src":"4738:37:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":129,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":126,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":121,"src":"4865:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":127,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"4865:19:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":128,"name":"blockTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":105,"src":"4888:14:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"4865:37:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":134,"nodeType":"IfStatement","src":"4861:70:0","trueBody":{"expression":{"components":[{"id":130,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"4912:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":131,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"4919:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":132,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4911:20:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint16_$_t_uint16_$","typeString":"tuple(uint16,uint16)"}},"functionReturnParameters":119,"id":133,"nodeType":"Return","src":"4904:27:0"}},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":144,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":137,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":135,"name":"cardinalityNext","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":113,"src":"5014:15:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":136,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"5032:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5014:29:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":143,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":138,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"5047:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":141,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":139,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"5057:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":140,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5071:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5057:15:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":142,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5056:17:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5047:26:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5014:59:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":154,"nodeType":"Block","src":"5142:57:0","statements":[{"expression":{"id":152,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":150,"name":"cardinalityUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":118,"src":"5156:18:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":151,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":111,"src":"5177:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5156:32:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":153,"nodeType":"ExpressionStatement","src":"5156:32:0"}]},"id":155,"nodeType":"IfStatement","src":"5010:189:0","trueBody":{"id":149,"nodeType":"Block","src":"5075:61:0","statements":[{"expression":{"id":147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":145,"name":"cardinalityUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":118,"src":"5089:18:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":146,"name":"cardinalityNext","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":113,"src":"5110:15:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5089:36:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":148,"nodeType":"ExpressionStatement","src":"5089:36:0"}]}},{"expression":{"id":163,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":156,"name":"indexUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":116,"src":"5209:12:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":157,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":103,"src":"5225:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":158,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5233:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"5225:9:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":160,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5224:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":161,"name":"cardinalityUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":118,"src":"5238:18:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5224:32:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5209:47:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":164,"nodeType":"ExpressionStatement","src":"5209:47:0"},{"expression":{"id":174,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":165,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":101,"src":"5266:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":167,"indexExpression":{"id":166,"name":"indexUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":116,"src":"5271:12:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5266:18:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":169,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":121,"src":"5297:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},{"id":170,"name":"blockTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":105,"src":"5303:14:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":171,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":107,"src":"5319:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":172,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":109,"src":"5325:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":168,"name":"transform","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"5287:9:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_Observation_$11_memory_ptr_$_t_uint32_$_t_int24_$_t_uint128_$returns$_t_struct$_Observation_$11_memory_ptr_$","typeString":"function (struct Oracle.Observation memory,uint32,int24,uint128) pure returns (struct Oracle.Observation memory)"}},"id":173,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5287:48:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"src":"5266:69:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"id":175,"nodeType":"ExpressionStatement","src":"5266:69:0"}]},"documentation":{"id":97,"nodeType":"StructuredDocumentation","src":"3269:1166:0","text":"@notice Writes an oracle observation to the array\n @dev Writable at most once per block. Index represents the most recently written element. cardinality and index must be tracked externally.\n If the index is at the end of the allowable array length (according to cardinality), and the next cardinality\n is greater than the current one, cardinality may be increased. This restriction is created to preserve ordering.\n @param self The stored oracle array\n @param index The index of the observation that was most recently written to the observations array\n @param blockTimestamp The timestamp of the new observation\n @param tick The active tick at the time of the new observation\n @param liquidity The total in-range liquidity at the time of the new observation\n @param cardinality The number of populated elements in the oracle array\n @param cardinalityNext The new length of the oracle array, independent of population\n @return indexUpdated The new index of the most recently written element in the oracle array\n @return cardinalityUpdated The new cardinality of the oracle array"},"id":177,"implemented":true,"kind":"function","modifiers":[],"name":"write","nodeType":"FunctionDefinition","parameters":{"id":114,"nodeType":"ParameterList","parameters":[{"constant":false,"id":101,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":177,"src":"4464:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":98,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"4464:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":100,"length":{"hexValue":"3635353335","id":99,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4476:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"4464:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":103,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":177,"src":"4505:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":102,"name":"uint16","nodeType":"ElementaryTypeName","src":"4505:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":105,"mutability":"mutable","name":"blockTimestamp","nodeType":"VariableDeclaration","scope":177,"src":"4527:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":104,"name":"uint32","nodeType":"ElementaryTypeName","src":"4527:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":107,"mutability":"mutable","name":"tick","nodeType":"VariableDeclaration","scope":177,"src":"4558:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":106,"name":"int24","nodeType":"ElementaryTypeName","src":"4558:5:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":109,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":177,"src":"4578:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":108,"name":"uint128","nodeType":"ElementaryTypeName","src":"4578:7:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":111,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":177,"src":"4605:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":110,"name":"uint16","nodeType":"ElementaryTypeName","src":"4605:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":113,"mutability":"mutable","name":"cardinalityNext","nodeType":"VariableDeclaration","scope":177,"src":"4633:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":112,"name":"uint16","nodeType":"ElementaryTypeName","src":"4633:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"4454:207:0"},"returnParameters":{"id":119,"nodeType":"ParameterList","parameters":[{"constant":false,"id":116,"mutability":"mutable","name":"indexUpdated","nodeType":"VariableDeclaration","scope":177,"src":"4680:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":115,"name":"uint16","nodeType":"ElementaryTypeName","src":"4680:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":118,"mutability":"mutable","name":"cardinalityUpdated","nodeType":"VariableDeclaration","scope":177,"src":"4701:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":117,"name":"uint16","nodeType":"ElementaryTypeName","src":"4701:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"4679:48:0"},"scope":734,"src":"4440:902:0","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":224,"nodeType":"Block","src":"5853:417:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":192,"name":"current","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":184,"src":"5871:7:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":193,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5881:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5871:11:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"49","id":195,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5884:3:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_8d61ecf6e15472e15b1a0f63cd77f62aa57e6edcd3871d7a841f1056fb42b216","typeString":"literal_string \"I\""},"value":"I"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8d61ecf6e15472e15b1a0f63cd77f62aa57e6edcd3871d7a841f1056fb42b216","typeString":"literal_string \"I\""}],"id":191,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5863:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":196,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5863:25:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":197,"nodeType":"ExpressionStatement","src":"5863:25:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":200,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":198,"name":"next","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":186,"src":"5986:4:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":199,"name":"current","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":184,"src":"5994:7:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"5986:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":203,"nodeType":"IfStatement","src":"5982:35:0","trueBody":{"expression":{"id":201,"name":"current","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":184,"src":"6010:7:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":190,"id":202,"nodeType":"Return","src":"6003:14:0"}},{"body":{"expression":{"id":219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"id":214,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":182,"src":"6216:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":216,"indexExpression":{"id":215,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":205,"src":"6221:1:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6216:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"id":217,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"6216:22:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"31","id":218,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6241:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"6216:26:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":220,"nodeType":"ExpressionStatement","src":"6216:26:0"},"condition":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":210,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":208,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":205,"src":"6201:1:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":209,"name":"next","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":186,"src":"6205:4:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"6201:8:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":221,"initializationExpression":{"assignments":[205],"declarations":[{"constant":false,"id":205,"mutability":"mutable","name":"i","nodeType":"VariableDeclaration","scope":221,"src":"6181:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":204,"name":"uint16","nodeType":"ElementaryTypeName","src":"6181:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"id":207,"initialValue":{"id":206,"name":"current","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":184,"src":"6192:7:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"6181:18:0"},"loopExpression":{"expression":{"id":212,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6211:3:0","subExpression":{"id":211,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":205,"src":"6211:1:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":213,"nodeType":"ExpressionStatement","src":"6211:3:0"},"nodeType":"ForStatement","src":"6176:66:0"},{"expression":{"id":222,"name":"next","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":186,"src":"6259:4:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"functionReturnParameters":190,"id":223,"nodeType":"Return","src":"6252:11:0"}]},"documentation":{"id":178,"nodeType":"StructuredDocumentation","src":"5348:368:0","text":"@notice Prepares the oracle array to store up to `next` observations\n @param self The stored oracle array\n @param current The current next cardinality of the oracle array\n @param next The proposed next cardinality which will be populated in the oracle array\n @return next The next cardinality which will be populated in the oracle array"},"id":225,"implemented":true,"kind":"function","modifiers":[],"name":"grow","nodeType":"FunctionDefinition","parameters":{"id":187,"nodeType":"ParameterList","parameters":[{"constant":false,"id":182,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":225,"src":"5744:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":179,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"5744:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":181,"length":{"hexValue":"3635353335","id":180,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5756:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"5744:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":184,"mutability":"mutable","name":"current","nodeType":"VariableDeclaration","scope":225,"src":"5785:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":183,"name":"uint16","nodeType":"ElementaryTypeName","src":"5785:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":186,"mutability":"mutable","name":"next","nodeType":"VariableDeclaration","scope":225,"src":"5809:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":185,"name":"uint16","nodeType":"ElementaryTypeName","src":"5809:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"5734:92:0"},"returnParameters":{"id":190,"nodeType":"ParameterList","parameters":[{"constant":false,"id":189,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":225,"src":"5845:6:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":188,"name":"uint16","nodeType":"ElementaryTypeName","src":"5845:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"5844:8:0"},"scope":734,"src":"5721:549:0","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":279,"nodeType":"Block","src":"6808:267:0","statements":[{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":243,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":239,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":237,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"6882:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":238,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"6887:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"6882:9:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":242,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":240,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":232,"src":"6895:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":241,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"6900:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"6895:9:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6882:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":248,"nodeType":"IfStatement","src":"6878:41:0","trueBody":{"expression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":244,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"6913:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":245,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":232,"src":"6918:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"6913:6:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":236,"id":247,"nodeType":"Return","src":"6906:13:0"}},{"assignments":[250],"declarations":[{"constant":false,"id":250,"mutability":"mutable","name":"aAdjusted","nodeType":"VariableDeclaration","scope":279,"src":"6930:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":249,"name":"uint256","nodeType":"ElementaryTypeName","src":"6930:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":261,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":251,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"6950:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":252,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"6954:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"6950:8:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":259,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":255,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"6965:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"commonType":{"typeIdentifier":"t_rational_4294967296_by_1","typeString":"int_const 4294967296"},"id":258,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":256,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6969:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"3332","id":257,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6972:2:0","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"6969:5:0","typeDescriptions":{"typeIdentifier":"t_rational_4294967296_by_1","typeString":"int_const 4294967296"}},"src":"6965:9:0","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":260,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6950:24:0","trueExpression":{"id":254,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":230,"src":"6961:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"6930:44:0"},{"assignments":[263],"declarations":[{"constant":false,"id":263,"mutability":"mutable","name":"bAdjusted","nodeType":"VariableDeclaration","scope":279,"src":"6984:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":262,"name":"uint256","nodeType":"ElementaryTypeName","src":"6984:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":274,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":266,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":264,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":232,"src":"7004:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":265,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"7008:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"7004:8:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint40","typeString":"uint40"},"id":272,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":268,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":232,"src":"7019:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"commonType":{"typeIdentifier":"t_rational_4294967296_by_1","typeString":"int_const 4294967296"},"id":271,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"32","id":269,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7023:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"hexValue":"3332","id":270,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7026:2:0","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"7023:5:0","typeDescriptions":{"typeIdentifier":"t_rational_4294967296_by_1","typeString":"int_const 4294967296"}},"src":"7019:9:0","typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"id":273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"7004:24:0","trueExpression":{"id":267,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":232,"src":"7015:1:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"typeDescriptions":{"typeIdentifier":"t_uint40","typeString":"uint40"}},"nodeType":"VariableDeclarationStatement","src":"6984:44:0"},{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":277,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":275,"name":"aAdjusted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":250,"src":"7046:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":276,"name":"bAdjusted","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":263,"src":"7059:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7046:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":236,"id":278,"nodeType":"Return","src":"7039:29:0"}]},"documentation":{"id":226,"nodeType":"StructuredDocumentation","src":"6276:423:0","text":"@notice comparator for 32-bit timestamps\n @dev safe for 0 or 1 overflows, a and b _must_ be chronologically before or equal to time\n @param time A timestamp truncated to 32 bits\n @param a A comparison timestamp from which to determine the relative position of `time`\n @param b From which to determine the relative position of `time`\n @return bool Whether `a` is chronologically <= `b`"},"id":280,"implemented":true,"kind":"function","modifiers":[],"name":"lte","nodeType":"FunctionDefinition","parameters":{"id":233,"nodeType":"ParameterList","parameters":[{"constant":false,"id":228,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":280,"src":"6726:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":227,"name":"uint32","nodeType":"ElementaryTypeName","src":"6726:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":230,"mutability":"mutable","name":"a","nodeType":"VariableDeclaration","scope":280,"src":"6747:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":229,"name":"uint32","nodeType":"ElementaryTypeName","src":"6747:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":232,"mutability":"mutable","name":"b","nodeType":"VariableDeclaration","scope":280,"src":"6765:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":231,"name":"uint32","nodeType":"ElementaryTypeName","src":"6765:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"6716:63:0"},"returnParameters":{"id":236,"nodeType":"ParameterList","parameters":[{"constant":false,"id":235,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":280,"src":"6802:4:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":234,"name":"bool","nodeType":"ElementaryTypeName","src":"6802:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6801:6:0"},"scope":734,"src":"6704:371:0","stateMutability":"pure","virtual":false,"visibility":"private"},{"body":{"id":397,"nodeType":"Block","src":"8276:818:0","statements":[{"assignments":[301],"declarations":[{"constant":false,"id":301,"mutability":"mutable","name":"l","nodeType":"VariableDeclaration","scope":397,"src":"8286:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":300,"name":"uint256","nodeType":"ElementaryTypeName","src":"8286:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":308,"initialValue":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":304,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":302,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":291,"src":"8299:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":303,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8307:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8299:9:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":305,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8298:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":306,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":293,"src":"8312:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8298:25:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"VariableDeclarationStatement","src":"8286:37:0"},{"assignments":[310],"declarations":[{"constant":false,"id":310,"mutability":"mutable","name":"r","nodeType":"VariableDeclaration","scope":397,"src":"8355:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":309,"name":"uint256","nodeType":"ElementaryTypeName","src":"8355:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":316,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":313,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":311,"name":"l","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"8367:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":312,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":293,"src":"8371:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8367:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":314,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8385:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8367:19:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8355:31:0"},{"assignments":[318],"declarations":[{"constant":false,"id":318,"mutability":"mutable","name":"i","nodeType":"VariableDeclaration","scope":397,"src":"8418:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":317,"name":"uint256","nodeType":"ElementaryTypeName","src":"8418:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":319,"nodeType":"VariableDeclarationStatement","src":"8418:9:0"},{"body":{"id":395,"nodeType":"Block","src":"8450:638:0","statements":[{"expression":{"id":328,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":321,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"8464:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":324,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":322,"name":"l","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"8469:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":323,"name":"r","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":310,"src":"8473:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8469:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":325,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8468:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32","id":326,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8478:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"8468:11:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8464:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":329,"nodeType":"ExpressionStatement","src":"8464:15:0"},{"expression":{"id":336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":330,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":296,"src":"8494:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":331,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":285,"src":"8507:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":335,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":334,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":332,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"8512:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":333,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":293,"src":"8516:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8512:15:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8507:21:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"src":"8494:34:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":337,"nodeType":"ExpressionStatement","src":"8494:34:0"},{"condition":{"id":340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"8639:23:0","subExpression":{"expression":{"id":338,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":296,"src":"8640:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"initialized","nodeType":"MemberAccess","referencedDeclaration":10,"src":"8640:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":349,"nodeType":"IfStatement","src":"8635:97:0","trueBody":{"id":348,"nodeType":"Block","src":"8664:68:0","statements":[{"expression":{"id":345,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":341,"name":"l","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"8682:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":344,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":342,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"8686:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":343,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8690:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8686:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"8682:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":346,"nodeType":"ExpressionStatement","src":"8682:9:0"},{"id":347,"nodeType":"Continue","src":"8709:8:0"}]}},{"expression":{"id":359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":350,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":298,"src":"8746:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":351,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":285,"src":"8758:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":358,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":357,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":354,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":352,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"8764:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":353,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8768:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8764:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":355,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8763:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":356,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":293,"src":"8773:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"8763:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8758:27:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"src":"8746:39:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":360,"nodeType":"ExpressionStatement","src":"8746:39:0"},{"assignments":[362],"declarations":[{"constant":false,"id":362,"mutability":"mutable","name":"targetAtOrAfter","nodeType":"VariableDeclaration","scope":395,"src":"8800:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":361,"name":"bool","nodeType":"ElementaryTypeName","src":"8800:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":369,"initialValue":{"arguments":[{"id":364,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":287,"src":"8827:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":365,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":296,"src":"8833:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":366,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"8833:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":367,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":289,"src":"8860:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":363,"name":"lte","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":280,"src":"8823:3:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$_t_uint32_$_t_uint32_$returns$_t_bool_$","typeString":"function (uint32,uint32,uint32) pure returns (bool)"}},"id":368,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8823:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"8800:67:0"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":370,"name":"targetAtOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":362,"src":"8934:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"arguments":[{"id":372,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":287,"src":"8957:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":373,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":289,"src":"8963:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":374,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":298,"src":"8971:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":375,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"8971:24:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":371,"name":"lte","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":280,"src":"8953:3:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$_t_uint32_$_t_uint32_$returns$_t_bool_$","typeString":"function (uint32,uint32,uint32) pure returns (bool)"}},"id":376,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"8953:43:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"8934:62:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":379,"nodeType":"IfStatement","src":"8930:73:0","trueBody":{"id":378,"nodeType":"Break","src":"8998:5:0"}},{"condition":{"id":381,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"9022:16:0","subExpression":{"id":380,"name":"targetAtOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":362,"src":"9023:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"id":392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":388,"name":"l","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":301,"src":"9068:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":389,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"9072:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":390,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9076:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9072:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9068:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":393,"nodeType":"ExpressionStatement","src":"9068:9:0"},"id":394,"nodeType":"IfStatement","src":"9018:59:0","trueBody":{"expression":{"id":386,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":382,"name":"r","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":310,"src":"9040:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":385,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":383,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":318,"src":"9044:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":384,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9048:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9044:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9040:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":387,"nodeType":"ExpressionStatement","src":"9040:9:0"}}]},"condition":{"hexValue":"74727565","id":320,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"8444:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"id":396,"nodeType":"WhileStatement","src":"8437:651:0"}]},"documentation":{"id":281,"nodeType":"StructuredDocumentation","src":"7081:944:0","text":"@notice Fetches the observations beforeOrAt and atOrAfter a target, i.e. where [beforeOrAt, atOrAfter] is satisfied.\n The result may be the same observation, or adjacent observations.\n @dev The answer must be contained in the array, used when the target is located within the stored observation\n boundaries: older than the most recent observation and younger, or the same age as, the oldest observation\n @param self The stored oracle array\n @param time The current block.timestamp\n @param target The timestamp at which the reserved observation should be for\n @param index The index of the observation that was most recently written to the observations array\n @param cardinality The number of populated elements in the oracle array\n @return beforeOrAt The observation recorded before, or at, the target\n @return atOrAfter The observation recorded at, or after, the target"},"id":398,"implemented":true,"kind":"function","modifiers":[],"name":"binarySearch","nodeType":"FunctionDefinition","parameters":{"id":294,"nodeType":"ParameterList","parameters":[{"constant":false,"id":285,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":398,"src":"8061:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":282,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"8061:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":284,"length":{"hexValue":"3635353335","id":283,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8073:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"8061:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":287,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":398,"src":"8102:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":286,"name":"uint32","nodeType":"ElementaryTypeName","src":"8102:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":289,"mutability":"mutable","name":"target","nodeType":"VariableDeclaration","scope":398,"src":"8123:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":288,"name":"uint32","nodeType":"ElementaryTypeName","src":"8123:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":291,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":398,"src":"8146:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":290,"name":"uint16","nodeType":"ElementaryTypeName","src":"8146:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":293,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":398,"src":"8168:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":292,"name":"uint16","nodeType":"ElementaryTypeName","src":"8168:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"8051:141:0"},"returnParameters":{"id":299,"nodeType":"ParameterList","parameters":[{"constant":false,"id":296,"mutability":"mutable","name":"beforeOrAt","nodeType":"VariableDeclaration","scope":398,"src":"8215:29:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":295,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"8215:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"},{"constant":false,"id":298,"mutability":"mutable","name":"atOrAfter","nodeType":"VariableDeclaration","scope":398,"src":"8246:28:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":297,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"8246:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"src":"8214:61:0"},"scope":734,"src":"8030:1064:0","stateMutability":"view","virtual":false,"visibility":"private"},{"body":{"id":495,"nodeType":"Block","src":"10425:1118:0","statements":[{"expression":{"id":426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":422,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"10498:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":423,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":403,"src":"10511:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":425,"indexExpression":{"id":424,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":411,"src":"10516:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10511:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"src":"10498:24:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":427,"nodeType":"ExpressionStatement","src":"10498:24:0"},{"condition":{"arguments":[{"id":429,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":405,"src":"10641:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":430,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"10647:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":431,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"10647:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":432,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":407,"src":"10674:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":428,"name":"lte","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":280,"src":"10637:3:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$_t_uint32_$_t_uint32_$returns$_t_bool_$","typeString":"function (uint32,uint32,uint32) pure returns (bool)"}},"id":433,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"10637:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":455,"nodeType":"IfStatement","src":"10633:443:0","trueBody":{"id":454,"nodeType":"Block","src":"10683:393:0","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":434,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"10701:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":435,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"10701:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":436,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":407,"src":"10730:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"10701:35:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":452,"nodeType":"Block","src":"10915:151:0","statements":[{"expression":{"components":[{"id":443,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"10992:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},{"arguments":[{"id":445,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"11014:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},{"id":446,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":407,"src":"11026:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":447,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":409,"src":"11034:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":448,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":413,"src":"11040:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":444,"name":"transform","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"11004:9:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_Observation_$11_memory_ptr_$_t_uint32_$_t_int24_$_t_uint128_$returns$_t_struct$_Observation_$11_memory_ptr_$","typeString":"function (struct Oracle.Observation memory,uint32,int24,uint128) pure returns (struct Oracle.Observation memory)"}},"id":449,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11004:46:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}}],"id":450,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10991:60:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"tuple(struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"functionReturnParameters":421,"id":451,"nodeType":"Return","src":"10984:67:0"}]},"id":453,"nodeType":"IfStatement","src":"10697:369:0","trueBody":{"id":442,"nodeType":"Block","src":"10738:171:0","statements":[{"expression":{"components":[{"id":438,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"10872:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},{"id":439,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":420,"src":"10884:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}}],"id":440,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"10871:23:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"tuple(struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"functionReturnParameters":421,"id":441,"nodeType":"Return","src":"10864:30:0"}]}}]}},{"expression":{"id":465,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":456,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"11139:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":457,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":403,"src":"11152:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":464,"indexExpression":{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":463,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":460,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":458,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":411,"src":"11158:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":459,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11166:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"11158:9:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"id":461,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"11157:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"id":462,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":415,"src":"11171:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"11157:25:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11152:31:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"src":"11139:44:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":466,"nodeType":"ExpressionStatement","src":"11139:44:0"},{"condition":{"id":469,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"11197:23:0","subExpression":{"expression":{"id":467,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"11198:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":468,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"initialized","nodeType":"MemberAccess","referencedDeclaration":10,"src":"11198:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":476,"nodeType":"IfStatement","src":"11193:49:0","trueBody":{"expression":{"id":474,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":470,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"11222:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":471,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":403,"src":"11235:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":473,"indexExpression":{"hexValue":"30","id":472,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11240:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"11235:7:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"src":"11222:20:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":475,"nodeType":"ExpressionStatement","src":"11222:20:0"}},{"expression":{"arguments":[{"arguments":[{"id":479,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":405,"src":"11353:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":480,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":418,"src":"11359:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":481,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"11359:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":482,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":407,"src":"11386:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"}],"id":478,"name":"lte","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":280,"src":"11349:3:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$_t_uint32_$_t_uint32_$returns$_t_bool_$","typeString":"function (uint32,uint32,uint32) pure returns (bool)"}},"id":483,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11349:44:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"4f4c44","id":484,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"11395:5:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_d30c0d219016dd7e5cf2b2c30c4d7c091820fc329f335b57cab26b9ff3384a9e","typeString":"literal_string \"OLD\""},"value":"OLD"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d30c0d219016dd7e5cf2b2c30c4d7c091820fc329f335b57cab26b9ff3384a9e","typeString":"literal_string \"OLD\""}],"id":477,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"11341:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":485,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11341:60:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":486,"nodeType":"ExpressionStatement","src":"11341:60:0"},{"expression":{"arguments":[{"id":488,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":403,"src":"11497:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},{"id":489,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":405,"src":"11503:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":490,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":407,"src":"11509:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":491,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":411,"src":"11517:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":492,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":415,"src":"11524:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":487,"name":"binarySearch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":398,"src":"11484:12:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr_$_t_uint32_$_t_uint32_$_t_uint16_$_t_uint16_$returns$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"function (struct Oracle.Observation storage ref[65535] storage pointer,uint32,uint32,uint16,uint16) view returns (struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"id":493,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"11484:52:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"tuple(struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"functionReturnParameters":421,"id":494,"nodeType":"Return","src":"11477:59:0"}]},"documentation":{"id":399,"nodeType":"StructuredDocumentation","src":"9100:1013:0","text":"@notice Fetches the observations beforeOrAt and atOrAfter a given target, i.e. where [beforeOrAt, atOrAfter] is satisfied\n @dev Assumes there is at least 1 initialized observation.\n Used by observeSingle() to compute the counterfactual accumulator values as of a given block timestamp.\n @param self The stored oracle array\n @param time The current block.timestamp\n @param target The timestamp at which the reserved observation should be for\n @param tick The active tick at the time of the returned or simulated observation\n @param index The index of the observation that was most recently written to the observations array\n @param liquidity The total pool liquidity at the time of the call\n @param cardinality The number of populated elements in the oracle array\n @return beforeOrAt The observation which occurred at, or before, the given timestamp\n @return atOrAfter The observation which occurred at, or after, the given timestamp"},"id":496,"implemented":true,"kind":"function","modifiers":[],"name":"getSurroundingObservations","nodeType":"FunctionDefinition","parameters":{"id":416,"nodeType":"ParameterList","parameters":[{"constant":false,"id":403,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":496,"src":"10163:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":400,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"10163:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":402,"length":{"hexValue":"3635353335","id":401,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10175:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"10163:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":405,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":496,"src":"10204:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":404,"name":"uint32","nodeType":"ElementaryTypeName","src":"10204:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":407,"mutability":"mutable","name":"target","nodeType":"VariableDeclaration","scope":496,"src":"10225:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":406,"name":"uint32","nodeType":"ElementaryTypeName","src":"10225:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":409,"mutability":"mutable","name":"tick","nodeType":"VariableDeclaration","scope":496,"src":"10248:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":408,"name":"int24","nodeType":"ElementaryTypeName","src":"10248:5:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":411,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":496,"src":"10268:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":410,"name":"uint16","nodeType":"ElementaryTypeName","src":"10268:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":413,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":496,"src":"10290:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":412,"name":"uint128","nodeType":"ElementaryTypeName","src":"10290:7:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":415,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":496,"src":"10317:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":414,"name":"uint16","nodeType":"ElementaryTypeName","src":"10317:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"10153:188:0"},"returnParameters":{"id":421,"nodeType":"ParameterList","parameters":[{"constant":false,"id":418,"mutability":"mutable","name":"beforeOrAt","nodeType":"VariableDeclaration","scope":496,"src":"10364:29:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":417,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"10364:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"},{"constant":false,"id":420,"mutability":"mutable","name":"atOrAfter","nodeType":"VariableDeclaration","scope":496,"src":"10395:28:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":419,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"10395:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"src":"10363:61:0"},"scope":734,"src":"10118:1425:0","stateMutability":"view","virtual":false,"visibility":"private"},{"body":{"id":646,"nodeType":"Block","src":"12957:1640:0","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":522,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":520,"name":"secondsAgo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":505,"src":"12971:10:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":521,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12985:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"12971:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":550,"nodeType":"IfStatement","src":"12967:257:0","trueBody":{"id":549,"nodeType":"Block","src":"12988:236:0","statements":[{"assignments":[524],"declarations":[{"constant":false,"id":524,"mutability":"mutable","name":"last","nodeType":"VariableDeclaration","scope":549,"src":"13002:23:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":523,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"13002:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"id":528,"initialValue":{"baseExpression":{"id":525,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":501,"src":"13028:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},"id":527,"indexExpression":{"id":526,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":509,"src":"13033:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"13028:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"VariableDeclarationStatement","src":"13002:37:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":532,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":529,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"13057:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":530,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"13057:19:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":531,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":503,"src":"13080:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"13057:27:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":542,"nodeType":"IfStatement","src":"13053:78:0","trueBody":{"expression":{"id":540,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":533,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"13086:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":535,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"13103:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},{"id":536,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":503,"src":"13109:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":537,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":507,"src":"13115:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":538,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":511,"src":"13121:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":534,"name":"transform","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":66,"src":"13093:9:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_struct$_Observation_$11_memory_ptr_$_t_uint32_$_t_int24_$_t_uint128_$returns$_t_struct$_Observation_$11_memory_ptr_$","typeString":"function (struct Oracle.Observation memory,uint32,int24,uint128) pure returns (struct Oracle.Observation memory)"}},"id":539,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"13093:38:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"src":"13086:45:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":541,"nodeType":"ExpressionStatement","src":"13086:45:0"}},{"expression":{"components":[{"expression":{"id":543,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"13153:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":544,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"13153:19:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"expression":{"id":545,"name":"last","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":524,"src":"13174:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":546,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"13174:38:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":547,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13152:61:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"functionReturnParameters":519,"id":548,"nodeType":"Return","src":"13145:68:0"}]}},{"assignments":[552],"declarations":[{"constant":false,"id":552,"mutability":"mutable","name":"target","nodeType":"VariableDeclaration","scope":646,"src":"13234:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":551,"name":"uint32","nodeType":"ElementaryTypeName","src":"13234:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":556,"initialValue":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":555,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":553,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":503,"src":"13250:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":554,"name":"secondsAgo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":505,"src":"13257:10:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"13250:17:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"13234:33:0"},{"assignments":[558,560],"declarations":[{"constant":false,"id":558,"mutability":"mutable","name":"beforeOrAt","nodeType":"VariableDeclaration","scope":646,"src":"13279:29:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":557,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"13279:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"},{"constant":false,"id":560,"mutability":"mutable","name":"atOrAfter","nodeType":"VariableDeclaration","scope":646,"src":"13310:28:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":559,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"13310:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"id":570,"initialValue":{"arguments":[{"id":562,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":501,"src":"13381:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},{"id":563,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":503,"src":"13387:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":564,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":552,"src":"13393:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":565,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":507,"src":"13401:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":566,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":509,"src":"13407:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":567,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":511,"src":"13414:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":568,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":513,"src":"13425:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":561,"name":"getSurroundingObservations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":496,"src":"13354:26:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr_$_t_uint32_$_t_uint32_$_t_int24_$_t_uint16_$_t_uint128_$_t_uint16_$returns$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"function (struct Oracle.Observation storage ref[65535] storage pointer,uint32,uint32,int24,uint16,uint128,uint16) view returns (struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"id":569,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"13354:83:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_struct$_Observation_$11_memory_ptr_$_t_struct$_Observation_$11_memory_ptr_$","typeString":"tuple(struct Oracle.Observation memory,struct Oracle.Observation memory)"}},"nodeType":"VariableDeclarationStatement","src":"13278:159:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":574,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":571,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":552,"src":"13452:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":572,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"13462:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":573,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"13462:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"13452:35:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":582,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":552,"src":"13646:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":583,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"13656:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":584,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"13656:24:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"13646:34:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":643,"nodeType":"Block","src":"13834:757:0","statements":[{"assignments":[594],"declarations":[{"constant":false,"id":594,"mutability":"mutable","name":"observationTimeDelta","nodeType":"VariableDeclaration","scope":643,"src":"13883:27:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":593,"name":"uint32","nodeType":"ElementaryTypeName","src":"13883:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":600,"initialValue":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":599,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":595,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"13913:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":596,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"13913:24:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":597,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"13940:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":598,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"13940:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"13913:52:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"13883:82:0"},{"assignments":[602],"declarations":[{"constant":false,"id":602,"mutability":"mutable","name":"targetDelta","nodeType":"VariableDeclaration","scope":643,"src":"13979:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":601,"name":"uint32","nodeType":"ElementaryTypeName","src":"13979:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":607,"initialValue":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":606,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":603,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":552,"src":"14000:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":604,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"14009:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":605,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"14009:25:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"14000:34:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"13979:55:0"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":608,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"14073:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":609,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"14073:25:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":617,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_int56","typeString":"int56"},"id":614,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":610,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"14123:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":611,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"14123:24:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":612,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"14150:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":613,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"14150:25:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"src":"14123:52:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}}],"id":615,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14122:54:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":616,"name":"observationTimeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":594,"src":"14179:20:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"14122:77:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}}],"id":618,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14121:79:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":619,"name":"targetDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":602,"src":"14223:11:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"14121:113:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"src":"14073:161:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":640,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":622,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"14252:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":623,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"14252:44:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":638,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":635,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":628,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"14390:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":629,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"14390:43:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":630,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"14436:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":631,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"14436:44:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"14390:90:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":627,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14353:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":626,"name":"uint256","nodeType":"ElementaryTypeName","src":"14353:7:0","typeDescriptions":{}}},"id":633,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"14353:153:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":634,"name":"targetDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":602,"src":"14509:11:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"14353:167:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":636,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14352:169:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":637,"name":"observationTimeDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":594,"src":"14524:20:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"14352:192:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":625,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"14319:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":624,"name":"uint160","nodeType":"ElementaryTypeName","src":"14319:7:0","typeDescriptions":{}}},"id":639,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"14319:247:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"14252:314:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":641,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"14055:525:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"functionReturnParameters":519,"id":642,"nodeType":"Return","src":"14048:532:0"}]},"id":644,"nodeType":"IfStatement","src":"13642:949:0","trueBody":{"id":592,"nodeType":"Block","src":"13682:146:0","statements":[{"expression":{"components":[{"expression":{"id":586,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"13747:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":587,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"13747:24:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"expression":{"id":588,"name":"atOrAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":560,"src":"13773:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":589,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"13773:43:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":590,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13746:71:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"functionReturnParameters":519,"id":591,"nodeType":"Return","src":"13739:78:0"}]}},"id":645,"nodeType":"IfStatement","src":"13448:1143:0","trueBody":{"id":581,"nodeType":"Block","src":"13489:147:0","statements":[{"expression":{"components":[{"expression":{"id":575,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"13553:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":576,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"13553:25:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"expression":{"id":577,"name":"beforeOrAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":558,"src":"13580:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":578,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"13580:44:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":579,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"13552:73:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"functionReturnParameters":519,"id":580,"nodeType":"Return","src":"13545:80:0"}]}}]},"documentation":{"id":497,"nodeType":"StructuredDocumentation","src":"11549:1100:0","text":"@dev Reverts if an observation at or before the desired observation timestamp does not exist.\n 0 may be passed as `secondsAgo' to return the current cumulative values.\n If called with a timestamp falling between two observations, returns the counterfactual accumulator values\n at exactly the timestamp between the two observations.\n @param self The stored oracle array\n @param time The current block timestamp\n @param secondsAgo The amount of time to look back, in seconds, at which point to return an observation\n @param tick The current tick\n @param index The index of the observation that was most recently written to the observations array\n @param liquidity The current in-range pool liquidity\n @param cardinality The number of populated elements in the oracle array\n @return tickCumulative The tick * time elapsed since the pool was first initialized, as of `secondsAgo`\n @return secondsPerLiquidityCumulativeX128 The time elapsed / max(1, liquidity) since the pool was first initialized, as of `secondsAgo`"},"id":647,"implemented":true,"kind":"function","modifiers":[],"name":"observeSingle","nodeType":"FunctionDefinition","parameters":{"id":514,"nodeType":"ParameterList","parameters":[{"constant":false,"id":501,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":647,"src":"12686:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":498,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"12686:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":500,"length":{"hexValue":"3635353335","id":499,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12698:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"12686:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":503,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":647,"src":"12727:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":502,"name":"uint32","nodeType":"ElementaryTypeName","src":"12727:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":505,"mutability":"mutable","name":"secondsAgo","nodeType":"VariableDeclaration","scope":647,"src":"12748:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":504,"name":"uint32","nodeType":"ElementaryTypeName","src":"12748:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":507,"mutability":"mutable","name":"tick","nodeType":"VariableDeclaration","scope":647,"src":"12775:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":506,"name":"int24","nodeType":"ElementaryTypeName","src":"12775:5:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":509,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":647,"src":"12795:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":508,"name":"uint16","nodeType":"ElementaryTypeName","src":"12795:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":511,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":647,"src":"12817:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":510,"name":"uint128","nodeType":"ElementaryTypeName","src":"12817:7:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":513,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":647,"src":"12844:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":512,"name":"uint16","nodeType":"ElementaryTypeName","src":"12844:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"12676:192:0"},"returnParameters":{"id":519,"nodeType":"ParameterList","parameters":[{"constant":false,"id":516,"mutability":"mutable","name":"tickCumulative","nodeType":"VariableDeclaration","scope":647,"src":"12892:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"},"typeName":{"id":515,"name":"int56","nodeType":"ElementaryTypeName","src":"12892:5:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"visibility":"internal"},{"constant":false,"id":518,"mutability":"mutable","name":"secondsPerLiquidityCumulativeX128","nodeType":"VariableDeclaration","scope":647,"src":"12914:41:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":517,"name":"uint160","nodeType":"ElementaryTypeName","src":"12914:7:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"12891:65:0"},"scope":734,"src":"12654:1943:0","stateMutability":"view","virtual":false,"visibility":"internal"},{"body":{"id":732,"nodeType":"Block","src":"15878:535:0","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint16","typeString":"uint16"},"id":677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":675,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"15896:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15910:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"15896:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"49","id":678,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15913:3:0","typeDescriptions":{"typeIdentifier":"t_stringliteral_8d61ecf6e15472e15b1a0f63cd77f62aa57e6edcd3871d7a841f1056fb42b216","typeString":"literal_string \"I\""},"value":"I"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_8d61ecf6e15472e15b1a0f63cd77f62aa57e6edcd3871d7a841f1056fb42b216","typeString":"literal_string \"I\""}],"id":674,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"15888:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"15888:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":680,"nodeType":"ExpressionStatement","src":"15888:29:0"},{"expression":{"id":688,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":681,"name":"tickCumulatives","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"15928:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_memory_ptr","typeString":"int56[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":685,"name":"secondsAgos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"15958:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[] memory"}},"id":686,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"15958:18:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":684,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"15946:11:0","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_int56_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (int56[] memory)"},"typeName":{"baseType":{"id":682,"name":"int56","nodeType":"ElementaryTypeName","src":"15950:5:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"id":683,"nodeType":"ArrayTypeName","src":"15950:7:0","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_storage_ptr","typeString":"int56[]"}}},"id":687,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"15946:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_memory_ptr","typeString":"int56[] memory"}},"src":"15928:49:0","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_memory_ptr","typeString":"int56[] memory"}},"id":689,"nodeType":"ExpressionStatement","src":"15928:49:0"},{"expression":{"id":697,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":690,"name":"secondsPerLiquidityCumulativeX128s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":672,"src":"15987:34:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_memory_ptr","typeString":"uint160[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":694,"name":"secondsAgos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"16038:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[] memory"}},"id":695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"16038:18:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":693,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"16024:13:0","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint160_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (uint160[] memory)"},"typeName":{"baseType":{"id":691,"name":"uint160","nodeType":"ElementaryTypeName","src":"16028:7:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":692,"nodeType":"ArrayTypeName","src":"16028:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_storage_ptr","typeString":"uint160[]"}}},"id":696,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16024:33:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_memory_ptr","typeString":"uint160[] memory"}},"src":"15987:70:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_memory_ptr","typeString":"uint160[] memory"}},"id":698,"nodeType":"ExpressionStatement","src":"15987:70:0"},{"body":{"id":730,"nodeType":"Block","src":"16116:291:0","statements":[{"expression":{"id":728,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"baseExpression":{"id":710,"name":"tickCumulatives","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"16131:15:0","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_memory_ptr","typeString":"int56[] memory"}},"id":712,"indexExpression":{"id":711,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"16147:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"16131:18:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"baseExpression":{"id":713,"name":"secondsPerLiquidityCumulativeX128s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":672,"src":"16151:34:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_memory_ptr","typeString":"uint160[] memory"}},"id":715,"indexExpression":{"id":714,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"16186:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"16151:37:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":716,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"16130:59:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":718,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":652,"src":"16223:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"}},{"id":719,"name":"time","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":654,"src":"16245:4:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"baseExpression":{"id":720,"name":"secondsAgos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"16267:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[] memory"}},"id":722,"indexExpression":{"id":721,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"16279:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16267:14:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":723,"name":"tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":659,"src":"16299:4:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":724,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":661,"src":"16321:5:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":725,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":663,"src":"16344:9:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":726,"name":"cardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"16371:11:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation storage ref[65535] storage pointer"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_uint16","typeString":"uint16"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint16","typeString":"uint16"}],"id":717,"name":"observeSingle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":647,"src":"16192:13:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr_$_t_uint32_$_t_uint32_$_t_int24_$_t_uint16_$_t_uint128_$_t_uint16_$returns$_t_int56_$_t_uint160_$","typeString":"function (struct Oracle.Observation storage ref[65535] storage pointer,uint32,uint32,int24,uint16,uint128,uint16) view returns (int56,uint160)"}},"id":727,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"16192:204:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_int56_$_t_uint160_$","typeString":"tuple(int56,uint160)"}},"src":"16130:266:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":729,"nodeType":"ExpressionStatement","src":"16130:266:0"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":703,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"16087:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":704,"name":"secondsAgos","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":657,"src":"16091:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[] memory"}},"id":705,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"16091:18:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16087:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":731,"initializationExpression":{"assignments":[700],"declarations":[{"constant":false,"id":700,"mutability":"mutable","name":"i","nodeType":"VariableDeclaration","scope":731,"src":"16072:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":699,"name":"uint256","nodeType":"ElementaryTypeName","src":"16072:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":702,"initialValue":{"hexValue":"30","id":701,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16084:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"16072:13:0"},"loopExpression":{"expression":{"id":708,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"16111:3:0","subExpression":{"id":707,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":700,"src":"16111:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":709,"nodeType":"ExpressionStatement","src":"16111:3:0"},"nodeType":"ForStatement","src":"16067:340:0"}]},"documentation":{"id":648,"nodeType":"StructuredDocumentation","src":"14603:943:0","text":"@notice Returns the accumulator values as of each time seconds ago from the given time in the array of `secondsAgos`\n @dev Reverts if `secondsAgos` > oldest observation\n @param self The stored oracle array\n @param time The current block.timestamp\n @param secondsAgos Each amount of time to look back, in seconds, at which point to return an observation\n @param tick The current tick\n @param index The index of the observation that was most recently written to the observations array\n @param liquidity The current in-range pool liquidity\n @param cardinality The number of populated elements in the oracle array\n @return tickCumulatives The tick * time elapsed since the pool was first initialized, as of each `secondsAgo`\n @return secondsPerLiquidityCumulativeX128s The cumulative seconds / max(1, liquidity) since the pool was first initialized, as of each `secondsAgo`"},"id":733,"implemented":true,"kind":"function","modifiers":[],"name":"observe","nodeType":"FunctionDefinition","parameters":{"id":666,"nodeType":"ParameterList","parameters":[{"constant":false,"id":652,"mutability":"mutable","name":"self","nodeType":"VariableDeclaration","scope":733,"src":"15577:31:0","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"},"typeName":{"baseType":{"id":649,"name":"Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"15577:11:0","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":651,"length":{"hexValue":"3635353335","id":650,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15589:5:0","typeDescriptions":{"typeIdentifier":"t_rational_65535_by_1","typeString":"int_const 65535"},"value":"65535"},"nodeType":"ArrayTypeName","src":"15577:18:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$65535_storage_ptr","typeString":"struct Oracle.Observation[65535]"}},"visibility":"internal"},{"constant":false,"id":654,"mutability":"mutable","name":"time","nodeType":"VariableDeclaration","scope":733,"src":"15618:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":653,"name":"uint32","nodeType":"ElementaryTypeName","src":"15618:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":657,"mutability":"mutable","name":"secondsAgos","nodeType":"VariableDeclaration","scope":733,"src":"15639:27:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[]"},"typeName":{"baseType":{"id":655,"name":"uint32","nodeType":"ElementaryTypeName","src":"15639:6:0","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":656,"nodeType":"ArrayTypeName","src":"15639:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_storage_ptr","typeString":"uint32[]"}},"visibility":"internal"},{"constant":false,"id":659,"mutability":"mutable","name":"tick","nodeType":"VariableDeclaration","scope":733,"src":"15676:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":658,"name":"int24","nodeType":"ElementaryTypeName","src":"15676:5:0","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":661,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":733,"src":"15696:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":660,"name":"uint16","nodeType":"ElementaryTypeName","src":"15696:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":663,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":733,"src":"15718:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":662,"name":"uint128","nodeType":"ElementaryTypeName","src":"15718:7:0","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":665,"mutability":"mutable","name":"cardinality","nodeType":"VariableDeclaration","scope":733,"src":"15745:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":664,"name":"uint16","nodeType":"ElementaryTypeName","src":"15745:6:0","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"}],"src":"15567:202:0"},"returnParameters":{"id":673,"nodeType":"ParameterList","parameters":[{"constant":false,"id":669,"mutability":"mutable","name":"tickCumulatives","nodeType":"VariableDeclaration","scope":733,"src":"15793:30:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_memory_ptr","typeString":"int56[]"},"typeName":{"baseType":{"id":667,"name":"int56","nodeType":"ElementaryTypeName","src":"15793:5:0","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"id":668,"nodeType":"ArrayTypeName","src":"15793:7:0","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$dyn_storage_ptr","typeString":"int56[]"}},"visibility":"internal"},{"constant":false,"id":672,"mutability":"mutable","name":"secondsPerLiquidityCumulativeX128s","nodeType":"VariableDeclaration","scope":733,"src":"15825:51:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_memory_ptr","typeString":"uint160[]"},"typeName":{"baseType":{"id":670,"name":"uint160","nodeType":"ElementaryTypeName","src":"15825:7:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":671,"nodeType":"ArrayTypeName","src":"15825:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint160_$dyn_storage_ptr","typeString":"uint160[]"}},"visibility":"internal"}],"src":"15792:85:0"},"scope":734,"src":"15551:862:0","stateMutability":"view","virtual":false,"visibility":"internal"}],"scope":735,"src":"684:15731:0"}],"src":"45:16371:0"}},"contracts/test/MockObservations.sol":{"id":1,"ast":{"absolutePath":"contracts/test/MockObservations.sol","exportedSymbols":{"MockObservations":[916],"Oracle":[734]},"id":917,"license":"UNLICENSED","nodeType":"SourceUnit","nodes":[{"id":736,"literals":["solidity","=","0.7",".6"],"nodeType":"PragmaDirective","src":"39:23:1"},{"absolutePath":"@uniswap/v3-core/contracts/libraries/Oracle.sol","file":"@uniswap/v3-core/contracts/libraries/Oracle.sol","id":737,"nodeType":"ImportDirective","scope":917,"sourceUnit":735,"src":"64:57:1","symbolAliases":[],"unitAlias":""},{"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":916,"linearizedBaseContracts":[916],"name":"MockObservations","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":741,"mutability":"mutable","name":"oracleObservations","nodeType":"VariableDeclaration","scope":916,"src":"155:49:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$4_storage","typeString":"struct Oracle.Observation[4]"},"typeName":{"baseType":{"id":738,"name":"Oracle.Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"155:18:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"id":740,"length":{"hexValue":"34","id":739,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"174:1:1","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"nodeType":"ArrayTypeName","src":"155:21:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$4_storage_ptr","typeString":"struct Oracle.Observation[4]"}},"visibility":"internal"},{"constant":false,"id":743,"mutability":"mutable","name":"slot0Tick","nodeType":"VariableDeclaration","scope":916,"src":"211:15:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":742,"name":"int24","nodeType":"ElementaryTypeName","src":"211:5:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":745,"mutability":"mutable","name":"slot0ObservationCardinality","nodeType":"VariableDeclaration","scope":916,"src":"232:43:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":744,"name":"uint16","nodeType":"ElementaryTypeName","src":"232:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":747,"mutability":"mutable","name":"slot0ObservationIndex","nodeType":"VariableDeclaration","scope":916,"src":"281:37:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":746,"name":"uint16","nodeType":"ElementaryTypeName","src":"281:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"functionSelector":"1a686502","id":749,"mutability":"mutable","name":"liquidity","nodeType":"VariableDeclaration","scope":916,"src":"324:24:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":748,"name":"uint128","nodeType":"ElementaryTypeName","src":"324:7:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"public"},{"constant":false,"id":751,"mutability":"mutable","name":"lastObservationCurrentTimestamp","nodeType":"VariableDeclaration","scope":916,"src":"355:45:1","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":750,"name":"bool","nodeType":"ElementaryTypeName","src":"355:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"body":{"id":833,"nodeType":"Block","src":"781:647:1","statements":[{"body":{"id":811,"nodeType":"Block","src":"845:327:1","statements":[{"expression":{"id":809,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":791,"name":"oracleObservations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":741,"src":"859:18:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$4_storage","typeString":"struct Oracle.Observation storage ref[4] storage ref"}},"id":793,"indexExpression":{"id":792,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"878:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"859:21:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"baseExpression":{"id":796,"name":"_blockTimestamps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":755,"src":"936:16:1","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$4_memory_ptr","typeString":"uint32[4] memory"}},"id":798,"indexExpression":{"id":797,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"953:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"936:19:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"baseExpression":{"id":799,"name":"_tickCumulatives","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":759,"src":"989:16:1","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$4_memory_ptr","typeString":"int56[4] memory"}},"id":801,"indexExpression":{"id":800,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"1006:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"989:19:1","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"baseExpression":{"id":802,"name":"_secondsPerLiquidityCumulativeX128s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":763,"src":"1061:35:1","typeDescriptions":{"typeIdentifier":"t_array$_t_uint128_$4_memory_ptr","typeString":"uint128[4] memory"}},"id":804,"indexExpression":{"id":803,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"1097:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1061:38:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"baseExpression":{"id":805,"name":"_initializeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":767,"src":"1130:13:1","typeDescriptions":{"typeIdentifier":"t_array$_t_bool_$4_memory_ptr","typeString":"bool[4] memory"}},"id":807,"indexExpression":{"id":806,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"1144:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1130:16:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_int56","typeString":"int56"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"expression":{"id":794,"name":"Oracle","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":734,"src":"883:6:1","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Oracle_$734_$","typeString":"type(library Oracle)"}},"id":795,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"Observation","nodeType":"MemberAccess","referencedDeclaration":11,"src":"883:18:1","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Observation_$11_storage_ptr_$","typeString":"type(struct Oracle.Observation storage pointer)"}},"id":808,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["blockTimestamp","tickCumulative","secondsPerLiquidityCumulativeX128","initialized"],"nodeType":"FunctionCall","src":"883:278:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"src":"859:302:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"id":810,"nodeType":"ExpressionStatement","src":"859:302:1"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":784,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"811:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":785,"name":"_blockTimestamps","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":755,"src":"815:16:1","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$4_memory_ptr","typeString":"uint32[4] memory"}},"id":786,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","src":"815:23:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"811:27:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":812,"initializationExpression":{"assignments":[781],"declarations":[{"constant":false,"id":781,"mutability":"mutable","name":"i","nodeType":"VariableDeclaration","scope":812,"src":"796:9:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":780,"name":"uint256","nodeType":"ElementaryTypeName","src":"796:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":783,"initialValue":{"hexValue":"30","id":782,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"808:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"796:13:1"},"loopExpression":{"expression":{"id":789,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"840:3:1","subExpression":{"id":788,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":781,"src":"840:1:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":790,"nodeType":"ExpressionStatement","src":"840:3:1"},"nodeType":"ForStatement","src":"791:381:1"},{"expression":{"id":815,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":813,"name":"slot0Tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"1182:9:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":814,"name":"_tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":769,"src":"1194:5:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"src":"1182:17:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"id":816,"nodeType":"ExpressionStatement","src":"1182:17:1"},{"expression":{"id":819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":817,"name":"slot0ObservationCardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"1209:27:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":818,"name":"_observationCardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":771,"src":"1239:23:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"1209:53:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":820,"nodeType":"ExpressionStatement","src":"1209:53:1"},{"expression":{"id":823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":821,"name":"slot0ObservationIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":747,"src":"1272:21:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":822,"name":"_observationIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":773,"src":"1296:17:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"src":"1272:41:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"id":824,"nodeType":"ExpressionStatement","src":"1272:41:1"},{"expression":{"id":827,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":825,"name":"lastObservationCurrentTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":751,"src":"1323:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":826,"name":"_lastObservationCurrentTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":775,"src":"1357:32:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1323:66:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":828,"nodeType":"ExpressionStatement","src":"1323:66:1"},{"expression":{"id":831,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":829,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"1399:9:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":830,"name":"_liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":777,"src":"1411:10:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"1399:22:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":832,"nodeType":"ExpressionStatement","src":"1399:22:1"}]},"id":834,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":778,"nodeType":"ParameterList","parameters":[{"constant":false,"id":755,"mutability":"mutable","name":"_blockTimestamps","nodeType":"VariableDeclaration","scope":834,"src":"428:33:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$4_memory_ptr","typeString":"uint32[4]"},"typeName":{"baseType":{"id":752,"name":"uint32","nodeType":"ElementaryTypeName","src":"428:6:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":754,"length":{"hexValue":"34","id":753,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"435:1:1","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"nodeType":"ArrayTypeName","src":"428:9:1","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$4_storage_ptr","typeString":"uint32[4]"}},"visibility":"internal"},{"constant":false,"id":759,"mutability":"mutable","name":"_tickCumulatives","nodeType":"VariableDeclaration","scope":834,"src":"471:32:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$4_memory_ptr","typeString":"int56[4]"},"typeName":{"baseType":{"id":756,"name":"int56","nodeType":"ElementaryTypeName","src":"471:5:1","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"id":758,"length":{"hexValue":"34","id":757,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"477:1:1","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"nodeType":"ArrayTypeName","src":"471:8:1","typeDescriptions":{"typeIdentifier":"t_array$_t_int56_$4_storage_ptr","typeString":"int56[4]"}},"visibility":"internal"},{"constant":false,"id":763,"mutability":"mutable","name":"_secondsPerLiquidityCumulativeX128s","nodeType":"VariableDeclaration","scope":834,"src":"513:53:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint128_$4_memory_ptr","typeString":"uint128[4]"},"typeName":{"baseType":{"id":760,"name":"uint128","nodeType":"ElementaryTypeName","src":"513:7:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":762,"length":{"hexValue":"34","id":761,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"521:1:1","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"nodeType":"ArrayTypeName","src":"513:10:1","typeDescriptions":{"typeIdentifier":"t_array$_t_uint128_$4_storage_ptr","typeString":"uint128[4]"}},"visibility":"internal"},{"constant":false,"id":767,"mutability":"mutable","name":"_initializeds","nodeType":"VariableDeclaration","scope":834,"src":"576:28:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bool_$4_memory_ptr","typeString":"bool[4]"},"typeName":{"baseType":{"id":764,"name":"bool","nodeType":"ElementaryTypeName","src":"576:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":766,"length":{"hexValue":"34","id":765,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"581:1:1","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"nodeType":"ArrayTypeName","src":"576:7:1","typeDescriptions":{"typeIdentifier":"t_array$_t_bool_$4_storage_ptr","typeString":"bool[4]"}},"visibility":"internal"},{"constant":false,"id":769,"mutability":"mutable","name":"_tick","nodeType":"VariableDeclaration","scope":834,"src":"614:11:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":768,"name":"int24","nodeType":"ElementaryTypeName","src":"614:5:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":771,"mutability":"mutable","name":"_observationCardinality","nodeType":"VariableDeclaration","scope":834,"src":"635:30:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":770,"name":"uint16","nodeType":"ElementaryTypeName","src":"635:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":773,"mutability":"mutable","name":"_observationIndex","nodeType":"VariableDeclaration","scope":834,"src":"675:24:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":772,"name":"uint16","nodeType":"ElementaryTypeName","src":"675:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":775,"mutability":"mutable","name":"_lastObservationCurrentTimestamp","nodeType":"VariableDeclaration","scope":834,"src":"709:37:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":774,"name":"bool","nodeType":"ElementaryTypeName","src":"709:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":777,"mutability":"mutable","name":"_liquidity","nodeType":"VariableDeclaration","scope":834,"src":"756:18:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":776,"name":"uint128","nodeType":"ElementaryTypeName","src":"756:7:1","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"418:362:1"},"returnParameters":{"id":779,"nodeType":"ParameterList","parameters":[],"src":"781:0:1"},"scope":916,"src":"407:1021:1","stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"body":{"id":860,"nodeType":"Block","src":"1649:103:1","statements":[{"expression":{"components":[{"hexValue":"30","id":851,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1667:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"id":852,"name":"slot0Tick","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":743,"src":"1670:9:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":853,"name":"slot0ObservationIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":747,"src":"1681:21:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"id":854,"name":"slot0ObservationCardinality","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"1704:27:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},{"hexValue":"30","id":855,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1733:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":856,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1736:1:1","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"66616c7365","id":857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1739:5:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"id":858,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1666:79:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_rational_0_by_1_$_t_int24_$_t_uint16_$_t_uint16_$_t_rational_0_by_1_$_t_rational_0_by_1_$_t_bool_$","typeString":"tuple(int_const 0,int24,uint16,uint16,int_const 0,int_const 0,bool)"}},"functionReturnParameters":850,"id":859,"nodeType":"Return","src":"1659:86:1"}]},"functionSelector":"3850c7bd","id":861,"implemented":true,"kind":"function","modifiers":[],"name":"slot0","nodeType":"FunctionDefinition","parameters":{"id":835,"nodeType":"ParameterList","parameters":[],"src":"1448:2:1"},"returnParameters":{"id":850,"nodeType":"ParameterList","parameters":[{"constant":false,"id":837,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1511:7:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":836,"name":"uint160","nodeType":"ElementaryTypeName","src":"1511:7:1","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":839,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1532:5:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":838,"name":"int24","nodeType":"ElementaryTypeName","src":"1532:5:1","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":841,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1551:6:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":840,"name":"uint16","nodeType":"ElementaryTypeName","src":"1551:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":843,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1571:6:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":842,"name":"uint16","nodeType":"ElementaryTypeName","src":"1571:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":845,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1591:6:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"},"typeName":{"id":844,"name":"uint16","nodeType":"ElementaryTypeName","src":"1591:6:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"visibility":"internal"},{"constant":false,"id":847,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1611:5:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":846,"name":"uint8","nodeType":"ElementaryTypeName","src":"1611:5:1","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":849,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":861,"src":"1630:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":848,"name":"bool","nodeType":"ElementaryTypeName","src":"1630:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1497:147:1"},"scope":916,"src":"1434:318:1","stateMutability":"view","virtual":false,"visibility":"external"},{"body":{"id":914,"nodeType":"Block","src":"1934:530:1","statements":[{"assignments":[877],"declarations":[{"constant":false,"id":877,"mutability":"mutable","name":"observation","nodeType":"VariableDeclaration","scope":914,"src":"1944:37:1","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation"},"typeName":{"id":876,"name":"Oracle.Observation","nodeType":"UserDefinedTypeName","referencedDeclaration":11,"src":"1944:18:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage_ptr","typeString":"struct Oracle.Observation"}},"visibility":"internal"}],"id":881,"initialValue":{"baseExpression":{"id":878,"name":"oracleObservations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":741,"src":"1984:18:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$4_storage","typeString":"struct Oracle.Observation storage ref[4] storage ref"}},"id":880,"indexExpression":{"id":879,"name":"index","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":863,"src":"2003:5:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1984:25:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"nodeType":"VariableDeclarationStatement","src":"1944:65:1"},{"condition":{"id":882,"name":"lastObservationCurrentTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":751,"src":"2023:31:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":903,"nodeType":"IfStatement","src":"2019:236:1","trueBody":{"id":902,"nodeType":"Block","src":"2056:199:1","statements":[{"expression":{"id":900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":883,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2070:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":885,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"2070:26:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":888,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2122:5:1","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"timestamp","nodeType":"MemberAccess","src":"2122:15:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":887,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2115:6:1","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":886,"name":"uint32","nodeType":"ElementaryTypeName","src":"2115:6:1","typeDescriptions":{}}},"id":890,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2115:23:1","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"baseExpression":{"id":891,"name":"oracleObservations","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":741,"src":"2158:18:1","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_Observation_$11_storage_$4_storage","typeString":"struct Oracle.Observation storage ref[4] storage ref"}},"id":893,"indexExpression":{"id":892,"name":"slot0ObservationIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":747,"src":"2177:21:1","typeDescriptions":{"typeIdentifier":"t_uint16","typeString":"uint16"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2158:41:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_storage","typeString":"struct Oracle.Observation storage ref"}},"id":894,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"2158:56:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":895,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2217:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":896,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"2217:26:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"2158:85:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"id":898,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2157:87:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"2115:129:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"2070:174:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":901,"nodeType":"ExpressionStatement","src":"2070:174:1"}]}},{"expression":{"components":[{"expression":{"id":904,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2285:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":905,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"blockTimestamp","nodeType":"MemberAccess","referencedDeclaration":4,"src":"2285:26:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"expression":{"id":906,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2325:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":907,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"tickCumulative","nodeType":"MemberAccess","referencedDeclaration":6,"src":"2325:26:1","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},{"expression":{"id":908,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2365:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":909,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"secondsPerLiquidityCumulativeX128","nodeType":"MemberAccess","referencedDeclaration":8,"src":"2365:45:1","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"expression":{"id":910,"name":"observation","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":877,"src":"2424:11:1","typeDescriptions":{"typeIdentifier":"t_struct$_Observation_$11_memory_ptr","typeString":"struct Oracle.Observation memory"}},"id":911,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"initialized","nodeType":"MemberAccess","referencedDeclaration":10,"src":"2424:23:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":912,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2271:186:1","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint32_$_t_int56_$_t_uint160_$_t_bool_$","typeString":"tuple(uint32,int56,uint160,bool)"}},"functionReturnParameters":873,"id":913,"nodeType":"Return","src":"2264:193:1"}]},"functionSelector":"252c09d7","id":915,"implemented":true,"kind":"function","modifiers":[],"name":"observations","nodeType":"FunctionDefinition","parameters":{"id":864,"nodeType":"ParameterList","parameters":[{"constant":false,"id":863,"mutability":"mutable","name":"index","nodeType":"VariableDeclaration","scope":915,"src":"1780:13:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":862,"name":"uint256","nodeType":"ElementaryTypeName","src":"1780:7:1","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1779:15:1"},"returnParameters":{"id":873,"nodeType":"ParameterList","parameters":[{"constant":false,"id":866,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":915,"src":"1855:6:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":865,"name":"uint32","nodeType":"ElementaryTypeName","src":"1855:6:1","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":868,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":915,"src":"1875:5:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"},"typeName":{"id":867,"name":"int56","nodeType":"ElementaryTypeName","src":"1875:5:1","typeDescriptions":{"typeIdentifier":"t_int56","typeString":"int56"}},"visibility":"internal"},{"constant":false,"id":870,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":915,"src":"1894:7:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":869,"name":"uint160","nodeType":"ElementaryTypeName","src":"1894:7:1","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":872,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","scope":915,"src":"1915:4:1","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":871,"name":"bool","nodeType":"ElementaryTypeName","src":"1915:4:1","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1841:88:1"},"scope":916,"src":"1758:706:1","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":917,"src":"123:2343:1"}],"src":"39:2428:1"}}},"contracts":{"@uniswap/v3-core/contracts/libraries/Oracle.sol":{"Oracle":{"abi":[],"metadata":{"optimizer_settings":"M3B3","solc_metadata":"{\"compiler\":{\"version\":\"0.7.6+commit.7338295f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"details\":\"Instances of stored oracle data, \\\"observations\\\", are collected in the oracle array Every pool is initialized with an oracle array length of 1. Anyone can pay the SSTOREs to increase the maximum length of the oracle array. New slots will be added when the array is fully populated. Observations are overwritten when the full length of the oracle array is populated. The most recent observation is available, independent of the length of the oracle array, by passing 0 to observe()\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Oracle\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Provides price and liquidity data useful for a wide variety of system designs\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"@uniswap/v3-core/contracts/libraries/Oracle.sol\":\"Oracle\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"details\":{\"constantOptimizer\":false,\"cse\":true,\"deduplicate\":true,\"jumpdestRemover\":true,\"orderLiterals\":true,\"peephole\":true,\"yul\":true,\"yulDetails\":{\"optimizerSteps\":\"dhfoDgvulfnTUtnIf[xarrscLMcCTUtTOntnfDIulLculVcul jjTpeulxarulrulxarrcLgvifCTUcarrLsTOtfDncarrIulc]jmuljuljul VcTOcul jmul\",\"stackAllocation\":true}},\"runs\":200},\"remappings\":[]},\"sources\":{\"@uniswap/v3-core/contracts/libraries/Oracle.sol\":{\"keccak256\":\"0xec31bf768db77e0099f91d2b38b2de192602c8941c670cc4e0d6e0727eacb00d\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://86b756f2b3b0266693bde0cc4bd5cbc37c267cce99cf4564a29a78df28fb2d19\",\"dweb:/ipfs/QmNzqN7UogQZ11ie2Z8uqVrcE17oFacKzYHfhveMADWa8K\"]}},\"version\":1}","zk_version":"1.3.13"},"evm":{"legacyAssembly":null,"assembly":"\t.text\n\t.file\t\"Oracle.sol:Oracle\"\n\t.globl\t__entry\n__entry:\n.func_begin0:\n\tand!\t1, r2, r1\n\tjump.ne\t@.BB0_1\n\tadd\t128, r0, r1\n\tst.1\t64, r1\n\tadd\tr0, r0, r1\n\tret.revert.to_label\tr1, @DEFAULT_FAR_REVERT\n.BB0_1:\n\tld.1\t11, r1\n\tand\t@CPI0_0[0], r1, r1\n\tor\t@CPI0_1[0], r1, r1\n\tst.1\t11, r1\n\tcontext.this\tr1\n\tst.1\t0, r1\n\tld.1\t11, r1\n\tand\t@CPI0_0[0], r1, r1\n\tor\t@CPI0_1[0], r1, r1\n\tst.1\t11, r1\n\tadd\t32, r0, r1\n\tst.2\t256, r1\n\tst.2\t288, r0\n\tadd\t@CPI0_2[0], r0, r1\n\tret.ok.to_label\tr1, @DEFAULT_FAR_RETURN\n.func_end0:\n\n\t.note.GNU-stack\n\t.rodata\nCPI0_0:\n\t.cell 452312848583266388373324160190187140051835877600158453279131187530910662655\nCPI0_1:\n\t.cell 52015977587075634662932278421871521105961125924018222127100086566054726205440\nCPI0_2:\n\t.cell 53919893334301279589334030174039261352344891250716429051063678533632\n","bytecode":{"object":"0000000101200190000000060000c13d0000008001000039000000400010043f000000000100001900000017000104300000000b0100043d000000070110019700000008011001c70000000b0010043f000000000100041000000000001004350000000b0100043d000000070110019700000008011001c70000000b0010043f0000002001000039000001000010044300000120000004430000000901000041000000160001042e0000001500000432000000160001042e0000001700010430000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff730000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000400000010000000000000000000000000000000000000000000000000000000000000000000000000000000000"},"methodIdentifiers":{}},"hash":"0100000b118c42475cc6cc9b920061a8df49fb58477456f7d6628fc0f4af15d5","factoryDependencies":{}}},"contracts/test/MockObservations.sol":{"MockObservations":{"abi":[{"inputs":[{"internalType":"uint32[4]","name":"_blockTimestamps","type":"uint32[4]"},{"internalType":"int56[4]","name":"_tickCumulatives","type":"int56[4]"},{"internalType":"uint128[4]","name":"_secondsPerLiquidityCumulativeX128s","type":"uint128[4]"},{"internalType":"bool[4]","name":"_initializeds","type":"bool[4]"},{"internalType":"int24","name":"_tick","type":"int24"},{"internalType":"uint16","name":"_observationCardinality","type":"uint16"},{"internalType":"uint16","name":"_observationIndex","type":"uint16"},{"internalType":"bool","name":"_lastObservationCurrentTimestamp","type":"bool"},{"internalType":"uint128","name":"_liquidity","type":"uint128"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"liquidity","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"observations","outputs":[{"internalType":"uint32","name":"","type":"uint32"},{"internalType":"int56","name":"","type":"int56"},{"internalType":"uint160","name":"","type":"uint160"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slot0","outputs":[{"internalType":"uint160","name":"","type":"uint160"},{"internalType":"int24","name":"","type":"int24"},{"internalType":"uint16","name":"","type":"uint16"},{"internalType":"uint16","name":"","type":"uint16"},{"internalType":"uint16","name":"","type":"uint16"},{"internalType":"uint8","name":"","type":"uint8"},{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"metadata":{"optimizer_settings":"M3B3","solc_metadata":"{\"compiler\":{\"version\":\"0.7.6+commit.7338295f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint32[4]\",\"name\":\"_blockTimestamps\",\"type\":\"uint32[4]\"},{\"internalType\":\"int56[4]\",\"name\":\"_tickCumulatives\",\"type\":\"int56[4]\"},{\"internalType\":\"uint128[4]\",\"name\":\"_secondsPerLiquidityCumulativeX128s\",\"type\":\"uint128[4]\"},{\"internalType\":\"bool[4]\",\"name\":\"_initializeds\",\"type\":\"bool[4]\"},{\"internalType\":\"int24\",\"name\":\"_tick\",\"type\":\"int24\"},{\"internalType\":\"uint16\",\"name\":\"_observationCardinality\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"_observationIndex\",\"type\":\"uint16\"},{\"internalType\":\"bool\",\"name\":\"_lastObservationCurrentTimestamp\",\"type\":\"bool\"},{\"internalType\":\"uint128\",\"name\":\"_liquidity\",\"type\":\"uint128\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"liquidity\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"observations\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"},{\"internalType\":\"int56\",\"name\":\"\",\"type\":\"int56\"},{\"internalType\":\"uint160\",\"name\":\"\",\"type\":\"uint160\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"slot0\",\"outputs\":[{\"internalType\":\"uint160\",\"name\":\"\",\"type\":\"uint160\"},{\"internalType\":\"int24\",\"name\":\"\",\"type\":\"int24\"},{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"},{\"internalType\":\"uint16\",\"name\":\"\",\"type\":\"uint16\"},{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"},{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/test/MockObservations.sol\":\"MockObservations\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"details\":{\"constantOptimizer\":false,\"cse\":true,\"deduplicate\":true,\"jumpdestRemover\":true,\"orderLiterals\":true,\"peephole\":true,\"yul\":true,\"yulDetails\":{\"optimizerSteps\":\"dhfoDgvulfnTUtnIf[xarrscLMcCTUtTOntnfDIulLculVcul jjTpeulxarulrulxarrcLgvifCTUcarrLsTOtfDncarrIulc]jmuljuljul VcTOcul jmul\",\"stackAllocation\":true}},\"runs\":200},\"remappings\":[]},\"sources\":{\"@uniswap/v3-core/contracts/libraries/Oracle.sol\":{\"keccak256\":\"0xec31bf768db77e0099f91d2b38b2de192602c8941c670cc4e0d6e0727eacb00d\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://86b756f2b3b0266693bde0cc4bd5cbc37c267cce99cf4564a29a78df28fb2d19\",\"dweb:/ipfs/QmNzqN7UogQZ11ie2Z8uqVrcE17oFacKzYHfhveMADWa8K\"]},\"contracts/test/MockObservations.sol\":{\"keccak256\":\"0xb3347a52227d3eebdec54f332f02242b38dfd066ffa22d45d4db80efcf744373\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://1c537a134ff237a3245dd280b77bf4861563bc7c8b33e92ed62b9fc5c966c88a\",\"dweb:/ipfs/Qmddovg492Pv1RMzCPFk9mrBydTcSqQfSHW5ExmwofQr7q\"]}},\"version\":1}","zk_version":"1.3.13"},"evm":{"legacyAssembly":null,"assembly":"\t.text\n\t.file\t\"MockObservations.sol:MockObservations\"\n\t.globl\t__entry\n__entry:\n.func_begin0:\n\tnop\tstack+=[6]\n\tptr.add\tr1, r0, stack[@ptr_calldata]\n\tshr.s\t96, r1, r1\n\tand\t@CPI0_0[0], r1, stack[@calldatasize]\n\tadd\t128, r0, r1\n\tst.1\t64, r1\n\tcontext.get_context_u128\tr1\n\tand!\t1, r2, r2\n\tjump.ne\t@.BB0_1\n\tsub!\tr1, r0, r1\n\tjump.ne\t@.BB0_9\n\tadd\tstack[@calldatasize], r0, r2\n\tsub.s!\t4, r2, r1\n\tjump.lt\t@.BB0_9\n\tptr.add\tstack[@ptr_calldata], r0, r1\n\tld\tr1, r3\n\tshr.s\t224, r3, r3\n\tsub.s!\t@CPI0_14[0], r3, r4\n\tjump.ne\t@.BB0_22\n\tadd\t4, r0, r1\n\tsload\tr1, r1\n\tshr.s\t56, r1, r1\n\tand\t@CPI0_4[0], r1, r1\n\tld.1\t64, r2\n\tst.1\tr2, r1\n\tld.1\t64, r1\n\tsub\tr2, r1, r2\n\tadd\t32, r2, r2\n\tadd\t@CPI0_0[0], r0, r3\n\tsub.s!\t@CPI0_0[0], r2, r4\n\tadd.ge\tr3, r0, r2\n\tsub.s!\t@CPI0_0[0], r1, r4\n\tadd.ge\tr3, r0, r1\n\tshl.s\t64, r1, r1\n\tshl.s\t96, r2, r2\n\tor\tr2, r1, r1\n\tret.ok.to_label\tr1, @DEFAULT_FAR_RETURN\n.BB0_1:\n\tsub!\tr1, r0, r1\n\tjump.ne\t@.BB0_9\n\tptr.add\tstack[@ptr_calldata], r0, r3\n\tld.1\t64, r1\n\tadd\tstack[@calldatasize], r0, r2\n\tand\t31, r2, r4\n\tshr.s!\t5, r2, r5\n\tjump.eq\t@.BB0_25\n\tadd\tr0, r0, r6\n.BB0_4:\n\tshl.s\t5, r6, r7\n\tadd\tr1, r7, r8\n\tptr.add\tr3, r7, r7\n\tld\tr7, r7\n\tst.1\tr8, r7\n\tadd\t1, r6, r6\n\tsub!\tr6, r5, r7\n\tjump.lt\t@.BB0_4\n.BB0_25:\n\tsub!\tr4, r0, r6\n\tjump.eq\t@.BB0_6\n\tshl.s\t5, r5, r5\n\tptr.add\tr3, r5, r3\n\tadd\tr1, r5, r5\n\tshl.s\t3, r4, r4\n\tld.1\tr5, r6\n\tshl\tr6, r4, r6\n\tshr\tr6, r4, r6\n\tld\tr3, r3\n\tsub\t256, r4, r4\n\tshr\tr3, r4, r3\n\tshl\tr3, r4, r3\n\tor\tr3, r6, r3\n\tst.1\tr5, r3\n.BB0_6:\n\tadd\tr2, r1, r3\n\tst.1\t64, r3\n\tsub.s!\t672, r2, r2\n\tjump.lt\t@.BB0_9\n\tadd\t640, r1, r2\n\tld.1\tr2, r2\n\tadd\t608, r1, r3\n\tld.1\tr3, r4\n\tadd\t576, r1, r3\n\tld.1\tr3, r3\n\tadd\t544, r1, r5\n\tld.1\tr5, r5\n\tadd\t512, r1, r6\n\tld.1\tr6, r6\n\tadd\tr0, r0, r7\n.BB0_10:\n\tld.1\t64, r8\n\tadd\t128, r8, r9\n\tst.1\t64, r9\n\tshl.s\t5, r7, r9\n\tadd\tr9, r1, r9\n\tld.1\tr9, r10\n\tand\t@CPI0_0[0], r10, r10\n\tst.1.inc\tr8, r10, r11\n\tadd\t128, r9, r12\n\tld.1\tr12, r12\n\tadd\t@CPI0_1[0], r0, r13\n\tand!\t@CPI0_2[0], r12, r14\n\tadd.eq\tr0, r0, r13\n\tand\t@CPI0_3[0], r12, r12\n\tor\tr13, r12, r12\n\tst.1\tr11, r12\n\tadd\t256, r9, r11\n\tld.1\tr11, r11\n\tand\t@CPI0_4[0], r11, r11\n\tadd\t64, r8, r13\n\tst.1\tr13, r11\n\tadd\t384, r9, r9\n\tadd\t96, r8, r8\n\tld.1\tr9, r9\n\tsub!\tr9, r0, r9\n\tadd\t0, r0, r9\n\tadd.ne\t1, r0, r9\n\tst.1\tr8, r9\n\tadd\t@CPI0_5[0], r0, r8\n\tadd.eq\tr0, r0, r8\n\tor\tr10, r8, r8\n\tshl.s\t88, r11, r9\n\tor\tr8, r9, r8\n\tshl.s\t32, r12, r9\n\tand\t@CPI0_6[0], r9, r9\n\tor\tr8, r9, r8\n\tsstore\tr7, r8\n\tadd\t1, r7, r8\n\tsub.s!\t2, r7, r7\n\tadd\tr8, r0, r7\n\tjump.le\t@.BB0_10\n\tadd\t@CPI0_7[0], r0, r1\n\tsub!\tr4, r0, r4\n\tadd.eq\tr0, r0, r1\n\tand\t@CPI0_8[0], r6, r4\n\tshl.s\t24, r5, r5\n\tand\t@CPI0_9[0], r5, r5\n\tor\tr5, r4, r4\n\tshl.s\t40, r3, r3\n\tand\t@CPI0_10[0], r3, r3\n\tor\tr4, r3, r3\n\tor\tr3, r1, r1\n\tshl.s\t56, r2, r2\n\tand\t@CPI0_11[0], r2, r2\n\tor\tr1, r2, r1\n\tadd\t4, r0, r2\n\tsload\tr2, r3\n\tand\t@CPI0_12[0], r3, r3\n\tor\tr1, r3, r1\n\tsstore\tr2, r1\n\tadd\t32, r0, r1\n\tst.2\t256, r1\n\tst.2\t288, r0\n\tadd\t@CPI0_13[0], r0, r1\n\tret.ok.to_label\tr1, @DEFAULT_FAR_RETURN\n.BB0_22:\n\tsub.s!\t@CPI0_15[0], r3, r4\n\tjump.ne\t@.BB0_23\n\tsub.s\t36, r2, r2\n\tsub.s\t32, r0, r3\n\tsub!\tr2, r3, r2\n\tjump.ge\t@.BB0_9\n\tptr.add.s\t4, r1, r1\n\tld\tr1, r1\n\tsub.s!\t3, r1, r2\n\tjump.gt\t@.BB0_9\n\tld.1\t64, r4\n\tadd\t128, r4, r2\n\tst.1\t64, r2\n\tsload\tr1, r1\n\tand!\t@CPI0_20[0], r1, r2\n\tadd\t@CPI0_1[0], r0, r2\n\tadd.eq\tr0, r0, r2\n\tshr.s\t32, r1, r3\n\tand\t@CPI0_3[0], r3, r3\n\tor\tr2, r3, r2\n\tshr.s\t88, r1, r3\n\tand\t@CPI0_21[0], r3, r3\n\tadd\t64, r4, r5\n\tst.1\tr5, r3\n\tadd\t32, r4, r7\n\tst.1\tr7, r2\n\tand\t@CPI0_0[0], r1, r6\n\tst.1\tr4, r6\n\tadd\t96, r4, r8\n\tsub.s!\t@CPI0_22[0], r1, r1\n\tadd\t0, r0, r1\n\tadd.gt\t1, r0, r1\n\tst.1\tr8, r1\n\tadd\t4, r0, r2\n\tsload\tr2, r2\n\tand!\t@CPI0_23[0], r2, r3\n\tjump.eq\t@.BB0_18\n\tshr.s\t40, r2, r1\n\tand\t65535, r1, r1\n\tsub.s!\t4, r1, r2\n\tjump.ge\t@.BB0_9\n\tsload\tr1, r1\n\tadd\tr1, r0, stack-[1]\n\tadd\t@CPI0_24[0], r0, r1\n\tst.2\t0, r1\n\tadd\t@CPI0_0[0], r0, r1\n\tcontext.gas_left\tr2\n\tsub.s!\t@CPI0_0[0], r2, r3\n\tadd.lt\tr2, r0, r1\n\tshl.s\t192, r1, r1\n\tor\t@CPI0_25[0], r1, r1\n\tadd\t32779, r0, r2\n\tadd\tr6, r0, stack-[6]\n\tadd\tr4, r0, stack-[5]\n\tadd\tr5, r0, stack-[4]\n\tadd\tr7, r0, stack-[3]\n\tadd\tr8, r0, stack-[2]\n\tnear_call\tr0, @__staticcall, @DEFAULT_UNWIND\n\tadd\tstack-[2], r0, r8\n\tadd\tstack-[3], r0, r7\n\tadd\tstack-[4], r0, r5\n\tadd\tstack-[5], r0, r4\n\tadd\tstack-[6], r0, r3\n\tand!\t1, r2, r2\n\tjump.eq\t@.BB0_9\n\tadd\tstack-[1], r0, r2\n\tsub\tr3, r2, r2\n\tld\tr1, r1\n\tadd\tr2, r1, r1\n\tand\t@CPI0_0[0], r1, r6\n\tst.1\tr4, r6\n\tld.1\tr8, r1\n.BB0_18:\n\tld.1\tr7, r2\n\tld.1\tr5, r3\n\tsub!\tr1, r0, r1\n\tadd\t0, r0, r1\n\tadd.ne\t1, r0, r1\n\tld.1\t64, r4\n\tadd\t96, r4, r5\n\tst.1\tr5, r1\n\tand\t@CPI0_21[0], r3, r1\n\tadd\t64, r4, r3\n\tst.1\tr3, r1\n\tand!\t@CPI0_2[0], r2, r1\n\tadd\t@CPI0_1[0], r0, r1\n\tadd.eq\tr0, r0, r1\n\tand\t@CPI0_3[0], r2, r2\n\tor\tr1, r2, r1\n\tadd\t32, r4, r2\n\tst.1\tr2, r1\n\tst.1\tr4, r6\n\tld.1\t64, r1\n\tsub\tr4, r1, r2\n\tadd\t128, r2, r2\n\tadd\t@CPI0_0[0], r0, r3\n\tsub.s!\t@CPI0_0[0], r2, r4\n\tadd.ge\tr3, r0, r2\n\tsub.s!\t@CPI0_0[0], r1, r4\n\tadd.ge\tr3, r0, r1\n\tshl.s\t64, r1, r1\n\tshl.s\t96, r2, r2\n\tor\tr2, r1, r1\n\tret.ok.to_label\tr1, @DEFAULT_FAR_RETURN\n.BB0_23:\n\tsub.s!\t@CPI0_16[0], r3, r1\n\tjump.ne\t@.BB0_9\n\tadd\t4, r0, r1\n\tsload\tr1, r1\n\tshr.s\t24, r1, r2\n\tand\t65535, r2, r2\n\tld.1\t64, r3\n\tadd\t96, r3, r4\n\tst.1\tr4, r2\n\tshr.s\t40, r1, r2\n\tand\t65535, r2, r2\n\tadd\t64, r3, r4\n\tst.1\tr4, r2\n\tand!\t@CPI0_17[0], r1, r2\n\tadd\t@CPI0_18[0], r0, r2\n\tadd.eq\tr0, r0, r2\n\tand\t@CPI0_19[0], r1, r1\n\tor\tr2, r1, r1\n\tadd\t32, r3, r2\n\tst.1\tr2, r1\n\tadd\t192, r3, r1\n\tst.1\tr1, r0\n\tadd\t160, r3, r1\n\tst.1\tr1, r0\n\tadd\t128, r3, r1\n\tst.1\tr1, r0\n\tst.1\tr3, r0\n\tld.1\t64, r1\n\tsub\tr3, r1, r2\n\tadd\t224, r2, r2\n\tadd\t@CPI0_0[0], r0, r3\n\tsub.s!\t@CPI0_0[0], r2, r4\n\tadd.ge\tr3, r0, r2\n\tsub.s!\t@CPI0_0[0], r1, r4\n\tadd.ge\tr3, r0, r1\n\tshl.s\t64, r1, r1\n\tshl.s\t96, r2, r2\n\tor\tr2, r1, r1\n\tret.ok.to_label\tr1, @DEFAULT_FAR_RETURN\n.BB0_9:\n\tadd\tr0, r0, r1\n\tret.revert.to_label\tr1, @DEFAULT_FAR_REVERT\n.func_end0:\n\n__staticcall:\n.func_begin1:\n.tmp0:\n\tfar_call.static\tr1, r2, @.BB1_2\n.tmp1:\n\tadd\t1, r0, r2\n\tret\n.BB1_2:\n.tmp2:\n\tadd\tr0, r0, r2\n\tret\n.func_end1:\n\n\t.data\n\t.p2align\t5\ncalldatasize:\n\t.cell 0\n\n\t.p2align\t5\nptr_calldata:\n.cell\t0\n\n\t.note.GNU-stack\n\t.rodata\nCPI0_0:\n\t.cell 4294967295\nCPI0_1:\n\t.cell -36028797018963968\nCPI0_2:\n\t.cell 36028797018963968\nCPI0_3:\n\t.cell 36028797018963967\nCPI0_4:\n\t.cell 340282366920938463463374607431768211455\nCPI0_5:\n\t.cell 452312848583266388373324160190187140051835877600158453279131187530910662656\nCPI0_6:\n\t.cell 309485009821345064429813760\nCPI0_7:\n\t.cell 24519928653854221733733552434404946937899825954937634816\nCPI0_8:\n\t.cell 16777215\nCPI0_9:\n\t.cell 1099494850560\nCPI0_10:\n\t.cell 72056494526300160\nCPI0_11:\n\t.cell 24519928653854221733733552434404946937827768360899706880\nCPI0_12:\n\t.cell -6277101735386680763835789423207666416102355444464034512896\nCPI0_13:\n\t.cell 53919893334301279589334030174039261352344891250716429051063678533632\nCPI0_14:\n\t.cell 443049218\nCPI0_15:\n\t.cell 623643095\nCPI0_16:\n\t.cell 944818109\nCPI0_17:\n\t.cell 8388608\nCPI0_18:\n\t.cell -8388608\nCPI0_19:\n\t.cell 8388607\nCPI0_20:\n\t.cell 154742504910672534362390528\nCPI0_21:\n\t.cell 1461501637330902918203684832716283019655932542975\nCPI0_22:\n\t.cell 452312848583266388373324160190187140051835877600158453279131187530910662655\nCPI0_23:\n\t.cell 6252581806732826542102055870773261469164455618509096878080\nCPI0_24:\n\t.cell 54919857843691310904240101001871775513466943666296306094405906504622902841650\nCPI0_25:\n\t.cell 904625751086426111047927909714404454142933102791518401696464687643217625088\n","bytecode":{"object":"00020000000000020006000000000002000100000001035500000060011002700000004c0010019d0000008001000039000000400010043f00000000010004160000000102200190000000260000c13d000000000101004b000001240000c13d0000000002000031000000040120008c000001240000413d0000000101000367000000000301043b000000e0033002700000005a0430009c000000960000c13d0000000401000039000000000101041a00000038011002700000005001100197000000400200043d0000000000120435000000400100043d000000000212004900000020022000390000004c030000410000004c0420009c00000000020380190000004c0410009c000000000103801900000040011002100000006002200210000000000112019f0000012c0001042e000000000101004b000001240000c13d0000000103000367000000400100043d00000000020000310000001f0420018f0000000505200272000000370000613d000000000600001900000005076002100000000008710019000000000773034f000000000707043b00000000007804350000000106600039000000000756004b0000002f0000413d000000000604004b000000460000613d0000000505500210000000000353034f00000000055100190000000304400210000000000605043300000000064601cf000000000646022f000000000303043b0000010004400089000000000343022f00000000034301cf000000000363019f00000000003504350000000003120019000000400030043f000002a00220008c000001240000413d00000280021000390000000002020433000002600310003900000000040304330000024003100039000000000303043300000220051000390000000005050433000002000610003900000000060604330000000007000019000000400800043d0000008009800039000000400090043f00000005097002100000000009190019000000000a0904330000004c0aa00197000000000ba80436000000800c900039000000000c0c04330000004d0d0000410000004e0ec00198000000000d0060190000004f0cc00197000000000ccd019f0000000000cb0435000001000b900039000000000b0b0433000000500bb00197000000400d8000390000000000bd0435000001800990003900000060088000390000000009090433000000000909004b0000000009000019000000010900c03900000000009804350000005108000041000000000800601900000000088a019f0000005809b00210000000000898019f0000002009c002100000005209900197000000000898019f000000000087041b0000000108700039000000020770008c0000000007080019000000550000a13d0000005301000041000000000404004b0000000001006019000000540460019700000018055002100000005505500197000000000445019f00000028033002100000005603300197000000000334019f000000000113019f00000038022002100000005702200197000000000121019f0000000402000039000000000302041a0000005803300197000000000131019f000000000012041b00000020010000390000010000100443000001200000044300000059010000410000012c0001042e0000005b0430009c000000fd0000c13d000000240220008a000000200300008a000000000232004b000001240000813d0000000401100370000000000101043b000000030210008c000001240000213d000000400400043d0000008002400039000000400020043f000000000101041a00000060021001980000004d02000041000000000200601900000020031002700000004f03300197000000000232019f0000005803100270000000610330019700000040054000390000000000350435000000200740003900000000002704350000004c0610019700000000006404350000006008400039000000620110009c0000000001000019000000010100203900000000001804350000000402000039000000000202041a0000006303200198000000de0000613d00000028012002700000ffff0110018f000000040210008c000001240000813d000000000101041a000100000001001d000000640100004100000000001004390000004c0100004100000000020004140000004c0320009c0000000001024019000000c00110021000000065011001c70000800b02000039000600000006001d000500000004001d000400000005001d000300000007001d000200000008001d012b01260000040f000000020800002900000003070000290000000405000029000000050400002900000006030000290000000102200190000001240000613d00000001020000290000000002230049000000000101043b00000000011200190000004c061001970000000000640435000000000108043300000000020704330000000003050433000000000101004b0000000001000019000000010100c039000000400400043d000000600540003900000000001504350000006101300197000000400340003900000000001304350000004e012001980000004d0100004100000000010060190000004f02200197000000000121019f000000200240003900000000001204350000000000640435000000400100043d000000000214004900000080022000390000004c030000410000004c0420009c00000000020380190000004c0410009c000000000103801900000040011002100000006002200210000000000112019f0000012c0001042e0000005c0130009c000001240000c13d0000000401000039000000000101041a00000018021002700000ffff0220018f000000400300043d0000006004300039000000000024043500000028021002700000ffff0220018f000000400430003900000000002404350000005d021001980000005e0200004100000000020060190000005f01100197000000000112019f00000020023000390000000000120435000000c0013000390000000000010435000000a0013000390000000000010435000000800130003900000000000104350000000000030435000000400100043d0000000002130049000000e0022000390000004c030000410000004c0420009c00000000020380190000004c0410009c000000000103801900000040011002100000006002200210000000000112019f0000012c0001042e00000000010000190000012d0001043000000129002104230000000102000039000000000001042d0000000002000019000000000001042d0000012b000004320000012c0001042e0000012d000104300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff800000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000007fffffffffffff00000000000000000000000000000000ffffffffffffffffffffffffffffffff0100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffff0000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffff000000000000000000000000000000000000000000000000000000ffff00000000000000000000000000000000000000000000000000000000ffff0000000000000000000000000000ffffffffffffffffffffffffffffffff00000000000000ffffffffffffffff0000000000000000000000000000000000000000000000000000000200000000000000000000000000000040000001000000000000000000000000000000000000000000000000000000000000000000000000001a68650200000000000000000000000000000000000000000000000000000000252c09d7000000000000000000000000000000000000000000000000000000003850c7bd0000000000000000000000000000000000000000000000000000000000800000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80000000000000000000000000000000000000000000000000000000000000007fffff0000000000000000000000000000000000000000008000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffff00ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000ff0000000000000000000000000000000000000000000000796b89b91644bc98cd93958e4c9038275d622183e25ac5af08cc6b5d9553913202000002000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},"methodIdentifiers":{"liquidity()":"1a686502","observations(uint256)":"252c09d7","slot0()":"3850c7bd"}},"hash":"010000676aa1254d808133c1f3a994199ae2e8879b3a8642274fae7fac35dac2","factoryDependencies":{}}}}}}